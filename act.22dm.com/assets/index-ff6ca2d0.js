import{_ as e,d as l,a1 as o,o as a,c as s,m as t,q as r,T as c,y as n,z as i,j as u,n as d,l as p,F as m,s as g,a0 as w,u as y,a as f,g as h,w as k,C as v,G as b,N as T,e as x,f as $,p as B,a4 as D,t as S,A as C,x as L,J as E,ac as I,S as z,K as _,M as A,Q as M,O as U,P as q}from"./index-07d41525.js";import{w as P}from"./wxjssdk-9390c5f7.js";import{g as O}from"./sign-54d406fa.js";import{T as j,I as G}from"./index-4e2308b0.js";import"./isObjectLike-38825d63.js";const K=(e,l,o=0)=>{let a=0,s=!1,{type:t}=l;const r=l.row,c=l.col;let n=H(e,l),i=[];return 7===t?l.state=0:8===t?(l.effect="split",setTimeout((()=>{l.effect=""}),300),e[r].forEach((e=>{e.state&&(a+=5,5===e.type&&(s=!0)),e.state=0})),0!=r&&e[r-1].forEach((e=>{e.state&&(a+=5,5===e.type&&(s=!0)),e.state=0}))):9===t?(l.effect="fire",setTimeout((()=>{l.effect=""}),400),l.state=0,a+=5,i=R(n,r,c),i.forEach((l=>{var o;(null==(o=e[l.row][l.col])?void 0:o.state)&&(e[l.row][l.col].state=0,a+=5,5===e[l.row][l.col].type&&(s=!0))}))):(i=N(n,r,c),(i.length>=3||o)&&i.forEach((l=>{var o;(null==(o=e[l.row][l.col])?void 0:o.state)&&(e[l.row][l.col].state=0,a+=5,5===e[l.row][l.col].type&&(s=!0))}))),{type:t,score:a,skill:s,gameBoard:n,connectedBalls:i}},N=(e,l,o)=>{const a=e.length,s=e[0].length,t=Array.from({length:a},(()=>Array(s).fill(!1))),r=[];r.push({row:l,col:o}),t[l][o]=!0;const c=[];for(;r.length>0;){const{row:l,col:o}=r.shift();c.push({row:l,col:o});const n=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}];for(const c of n){const n=l+c.row,i=o+c.col;n>=0&&n<a&&i>=0&&i<s&&1===e[n][i]&&!t[n][i]&&(r.push({row:n,col:i}),t[n][i]=!0)}}return c},R=(e,l,o)=>{const a=e.length,s=e[0].length,t=[];for(let r=l-2;r<=l+2;r++)for(let l=o-2;l<=o+2;l++)r>=0&&r<a&&l>=0&&l<s&&t.push({row:r,col:l,value:e[r][l]});return t},H=(e,l)=>e.map((e=>e.map((e=>e&&e.state&&(e.type===l.type||5===e.type)?1:0))));let F,J,Q,X=[],Y="https://cpe-app-oss.oss-cn-shenzhen.aliyuncs.com/h5/bubble/image";const V=l({name:"wolfsburg",components:{Textarea:j,Input:G},setup(e,l){var o,a;const{proxy:s}=M();let t=new P({});w();const r=y(),c=f({imgUrl:Y,userInfo:(null==(o=r.params)?void 0:o.userInfo)??{},loading:!1,volume:!1,scene:"mm",dialogs:"",share:!1,scale:h(1600),k:"",audioList:[{name:"bgm",src:`${Y}/audio/bgm.mp3`,loop:!0},{name:"bigbabol",src:`${Y}/audio/bigbabol.mp3`,loop:!1},{name:"click",src:`${Y}/audio/click.mp3`,loop:!1},{name:"dead",src:`${Y}/audio/dead.mp3`,loop:!1},{name:"fire",src:`${Y}/audio/fire.mp3`,loop:!1},{name:"gameover",src:`${Y}/audio/gameover.mp3`,loop:!1},{name:"perfect",src:`${Y}/audio/perfect.mp3`,loop:!1},{name:"rainbow",src:`${Y}/audio/rainbow.mp3`,loop:!1},{name:"shoot",src:`${Y}/audio/shoot.mp3`,loop:!1},{name:"skill",src:`${Y}/audio/skill.mp3`,loop:!1},{name:"split",src:`${Y}/audio/split.mp3`,loop:!1},{name:"miss",src:`${Y}/audio/miss.mp3`,loop:!1}],rankList:[],array2D:[[{row:0,col:0,type:1,state:1},{row:0,col:1,type:1,state:1},{row:0,col:2,type:2,state:1},{row:0,col:3,type:4,state:1},{row:0,col:4,type:1,state:1},{row:0,col:5,type:4,state:1},{row:0,col:6,type:2,state:1},{row:0,col:7,type:3,state:1}],[{row:1,col:0,type:2,state:1},{row:1,col:1,type:3,state:1},{row:1,col:2,type:1,state:1},{row:1,col:3,type:2,state:1},{row:1,col:4,type:2,state:1},{row:1,col:5,type:3,state:1},{row:1,col:6,type:2,state:1},{row:1,col:7,type:4,state:1}],[{row:2,col:0,type:3,state:1},{row:2,col:1,type:4,state:1},{row:2,col:2,type:3,state:1},{row:2,col:3,type:1,state:1},{row:2,col:4,type:3,state:1},{row:2,col:5,type:1,state:1},{row:2,col:6,type:2,state:1},{row:2,col:7,type:1,state:1}],[{row:3,col:0},{row:3,col:1},{row:3,col:2},{row:3,col:3},{row:3,col:4},{row:3,col:5},{row:3,col:6},{row:3,col:7}],[{row:4,col:0},{row:4,col:1},{row:4,col:2},{row:4,col:3},{row:4,col:4},{row:4,col:5},{row:4,col:6},{row:4,col:7}],[{row:5,col:0},{row:5,col:1},{row:5,col:2},{row:5,col:3},{row:5,col:4},{row:5,col:5},{row:5,col:6},{row:5,col:7}],[{row:6,col:0},{row:6,col:1},{row:6,col:2},{row:6,col:3},{row:6,col:4},{row:6,col:5},{row:6,col:6},{row:6,col:7}],[{row:7,col:0},{row:7,col:1},{row:7,col:2},{row:7,col:3},{row:7,col:4},{row:7,col:5},{row:7,col:6},{row:7,col:7}]],hp:3,score:0,skillList:[0,0,0,0],timer:null,timerDouble:null,beginTime:0,doubleScore:0,gameover:!1,sequence:[{type:1},{type:2}],currBall:null,shootAngle:0,miss:0,perfect:0,guide:0,currTouch:null,prizeBall:0,offsetTop:0,cunPrize:!1,config:{perfectLimit:10,prizeBall:200},form:{phone:"",name:"",address:""}});J=(null==(a=c.userInfo)?void 0:a.unionid)??"",k((()=>c.hp),((e,l)=>{e<=0?m():1===e?(c.array2D.forEach((e=>{e.forEach((e=>{e.state&&(e.state=0)}))})),u()):e<l&&(g("effect-hp-1"),setTimeout((()=>{g("")}),350))})),k((()=>c.miss),(e=>{4===e&&(c.hp--,c.miss=0,S("miss"))})),k((()=>c.score),(e=>{let l=Math.floor(e/c.config.prizeBall);if(c.prizeBall<l){let e=v(0,2),l=v(0,7),o=c.array2D[e][l];o.type=5,o.state=1,o.effect="",c.prizeBall++}})),k((()=>c.dialogs),(e=>{["pause","skill","rule","rank"].includes(e)?S("click"):-1!==e.indexOf("skill")?S("skill"):"gameover"==e&&S("gameover")}));const n=()=>{var e;if(1===(null==(e=c.currBall)?void 0:e.state)){let e=document.getElementById("fly-ball"),l=null;if(!e)return;let o=e.getBoundingClientRect(),a=[o.x+o.width/2,o.top+o.height/2],s=c.array2D;e:for(let t=s.length-1;t>=0;t--){let e=s[t];for(let r=0;r<e.length;r++){let e=s[t][r];if(I(a,[e.x,e.y])<=o.width/2+3&&!X.includes(e))if(e.type&&0!==e.state){if(X.length){l=X[0];break e}}else{if(0===t){l=e;break e}X.unshift(e)}}}if(c.currBall&&(o.top<-100||o.x<-0||o.x>750)&&(c.miss++,g("effect-miss"),setTimeout((()=>{g("")}),350),c.currBall=null,X=[]),l&&c.currBall){if(l.type=c.currBall.type,l.state=1,l.effect=null,6!==l.type)i(K(c.array2D,l));else{l.effect="rainbow",S("rainbow"),setTimeout((()=>{l.effect=""}),600);let e=[K(c.array2D,{...l,type:1},1),K(c.array2D,{...l,type:2},1),K(c.array2D,{...l,type:3},1),K(c.array2D,{...l,type:4},1)],o={type:6,score:0};e.forEach((e=>{o.score+=e.score,e.skill&&(o.skill=!0)})),i(o)}c.currBall=null,X=[]}}},i=e=>{let{type:l,score:o,skill:a}=e;if(c.score+=c.doubleScore?2*o:o,a){let e=v(0,4);4!==e?c.skillList[e]++:c.hp++,g(`skill-${e+6}`)}0===o&&7!==l?c.miss++:(S("dead"),c.miss=0),o>=5*c.config.perfectLimit*(c.doubleScore?1:2)&&(c.perfect++,g("effect-perfect"),setTimeout((()=>{g("")}),500)),7===l?(c.doubleScore=30,c.timerDouble=setInterval((()=>{c.dialogs||c.gameover||(c.doubleScore--,c.doubleScore<=0&&(clearInterval(c.timerDouble),c.doubleScore=0))}),1e3)):8==l?S("split"):9==l&&S("fire"),d()||u()},u=()=>{c.array2D.forEach(((e,l)=>{l<3&&e.forEach((e=>{e.type=v(1,4),e.state=1}))}))},d=()=>{let e=0;return c.array2D.forEach((l=>{l.forEach((l=>{(null==l?void 0:l.state)&&e++}))})),0!==e},p=()=>{if(c.currBall||c.gameover)return;let e=c.sequence.shift();c.currBall=e,e&&(c.sequence.push({type:v(1,4)}),e.state=1,c.beginTime||(c.beginTime=(new Date).getTime())),S("shoot")},m=()=>{c.gameover=!0,c.timer&&clearInterval(c.timer),setTimeout((()=>{g("gameover")}),800);let{k:e,score:l,perfect:o,hp:a}=c,s=O({k:e,unionid:J,score:l,level:o});b({ownerUnionid:J,activityKey:F,gameScore:l,levelNum:o,playTime:(new Date).getTime()-c.beginTime,extra:{perfect:o,hp:a},k:e,s:s})},g=(e,l=!1)=>{(e||-1===c.dialogs.indexOf("bigbabol")&&-1===c.dialogs.indexOf("skill")||l)&&(c.dialogs=e)},S=(e,l=!1)=>{T(c,e,l)},C=e=>{s.$Message.success(e)};return x((()=>{var e,l;F=(null==(e=r.meta)?void 0:e.activityKey)??"bubble";let o=location.origin+r.path,a=(null==(l=r.meta)?void 0:l.imgUrl)??"";if(window.innerHeight<1400){let e=Math.abs(window.innerHeight-1400);c.offsetTop=e>160?160:e}$({activityKey:F}).then((({code:e,data:l})=>{var o,a;0===e&&(c.k=l.k,c.cunPrize=(null==(o=l.extra)?void 0:o.cunPrize)??!1,(null==(a=l.extra)?void 0:a.config)&&(c.config=l.extra.config),z({activityKey:F,rankSize:20,endTime:"2024-02-24 00:00:00",periodNum:1}).then((({code:e,data:l})=>{0===e&&(c.rankList=l,l.some((e=>e.ownerUnionid==J))&&_({unionid:J,activityKey:F,periodNum:1}).then((({code:e,data:l})=>{l&&!l.name&&g("award")})))})))})),t.ready((()=>{var e,l;S("bgm",!0),t.updateShareData({title:(null==(e=r.meta)?void 0:e.title)??"",desc:(null==(l=r.meta)?void 0:l.desc)??"",link:o,imgUrl:a}),document.addEventListener("visibilitychange",(e=>{document.hidden?B():c.volume&&S("bgm",!0)}))}))})),{...D(c),onPlayAudio:S,onGameStart:()=>{var e;c.array2D=[[{row:0,col:0,type:1,state:1},{row:0,col:1,type:1,state:1},{row:0,col:2,type:2,state:1},{row:0,col:3,type:4,state:1},{row:0,col:4,type:1,state:1},{row:0,col:5,type:4,state:1},{row:0,col:6,type:2,state:1},{row:0,col:7,type:3,state:1}],[{row:1,col:0,type:2,state:1},{row:1,col:1,type:3,state:1},{row:1,col:2,type:1,state:1},{row:1,col:3,type:2,state:1},{row:1,col:4,type:2,state:1},{row:1,col:5,type:3,state:1},{row:1,col:6,type:2,state:1},{row:1,col:7,type:4,state:1}],[{row:2,col:0,type:3,state:1},{row:2,col:1,type:4,state:1},{row:2,col:2,type:3,state:1},{row:2,col:3,type:1,state:1},{row:2,col:4,type:3,state:1},{row:2,col:5,type:1,state:1},{row:2,col:6,type:2,state:1},{row:2,col:7,type:1,state:1}],[{row:3,col:0},{row:3,col:1},{row:3,col:2},{row:3,col:3},{row:3,col:4},{row:3,col:5},{row:3,col:6},{row:3,col:7}],[{row:4,col:0},{row:4,col:1},{row:4,col:2},{row:4,col:3},{row:4,col:4},{row:4,col:5},{row:4,col:6},{row:4,col:7}],[{row:5,col:0},{row:5,col:1},{row:5,col:2},{row:5,col:3},{row:5,col:4},{row:5,col:5},{row:5,col:6},{row:5,col:7}],[{row:6,col:0},{row:6,col:1},{row:6,col:2},{row:6,col:3},{row:6,col:4},{row:6,col:5},{row:6,col:6},{row:6,col:7}],[{row:7,col:0},{row:7,col:1},{row:7,col:2},{row:7,col:3},{row:7,col:4},{row:7,col:5},{row:7,col:6},{row:7,col:7}]],c.currBall=null,c.hp=3,c.score=0,c.miss=0,c.skillList=[0,0,0,0],c.doubleScore=0,c.perfect=0,c.sequence=[{type:v(1,4)},{type:v(1,4)}],c.scene="game",c.gameover=!1,c.currTouch=!1,c.shootAngle=0,c.beginTime=0,c.prizeBall=0,0===c.guide?c.guide=1:c.guide>4&&c.cunPrize&&(c.guide=4),c.timer&&clearInterval(c.timer),c.timerDouble&&clearInterval(c.timerDouble),g(""),c.timer=setInterval((()=>{c.gameover||n()}),16),E((()=>{Q=document.getElementById("game-shoot"),(e=>{let l=document.getElementsByClassName("ball-row");for(let o=0;o<l.length;o++){let a=l[o].children;for(let l=0;l<a.length;l++){let s=e[o][l],t=a[l].getBoundingClientRect();s.x=t.x+t.width/2,s.y=t.top+t.height/2}}})(c.array2D)})),S("click"),(null==(e=c.config.whiteList)?void 0:e.includes(J))&&(c.skillList=[20,20,20,20])},onGameBack:()=>{g(""),c.scene="mm",c.timer&&clearInterval(c.timer)},onSubmitAward:()=>{let{name:e,phone:l,address:o}=c.form;e&&l&&o?11==l.length?A({activityKey:F,ownerUnionid:J,address:o,name:e,phone:l,extra:{}}).then((()=>{g(""),C("提交成功")})):C("请填写11位手机号码"):C("请输入正确的信息")},openDialogs:g,onSkill:(e,l)=>{e&&(c.sequence.unshift({type:l+6}),c.skillList[l]--)},onShoot:p,onTouchStart:e=>{c.currBall||c.dialogs||c.gameover||(c.currTouch=e.touches[0])},onTouchMove:e=>{if(c.currTouch&&!c.dialogs){let l=Q.getBoundingClientRect(),o=e.touches[0].clientX,a=e.touches[0].clientY,s=l.x+l.width/2,t=l.y+l.height,r=Math.atan2(a-t,o-s);r*=180/Math.PI,o>=s?r=90-Math.abs(r):r+=90,Math.abs(r)<50&&(c.shootAngle=r)}},onTouchEnd:e=>{c.currTouch=null,p()},onNextGuide:()=>{c.guide++,4!==c.guide||c.cunPrize||c.guide++,5===c.guide&&c.cunPrize&&(()=>{for(let e=0;e<3;e++)c.skillList[v(0,c.skillList.length-1)]++})()}}}}),W=e=>(U("data-v-1a4d2a04"),e=e(),q(),e),Z={id:"page"},ee={key:0,id:"scene-mm",class:"scene-layer"},le=W((()=>u("span",{class:"icon-logo2"},null,-1))),oe=W((()=>u("span",{class:"icon-logo"},null,-1))),ae=W((()=>u("span",{class:"icon-reserved"},null,-1))),se=W((()=>u("div",{class:"mm-title"},[u("span",{class:"icon-mm-cloud"}),u("span",{class:"icon-mm-title"}),u("span",{class:"icon-mm-role2"}),u("span",{class:"icon-mm-role"})],-1))),te={class:"mm-btn"},re={key:0,id:"scene-game",class:"scene-layer"},ce=W((()=>u("span",{class:"icon-shoot"},null,-1))),ne={key:0,id:"game-doubleScore",class:"icon-clock-bg"},ie={class:"countdown-text"},ue=W((()=>u("span",{class:"icon-clock-text"},null,-1))),de=W((()=>u("div",{class:"countdown-container"},[u("span",{class:"countdown-inner"})],-1))),pe={id:"game-array"},me={key:0,class:"ball-dead icon-effect-dead"},ge={class:"icon-topbar"},we={class:"topbar-hp"},ye=W((()=>u("i",{class:"num-hp-x"},null,-1))),fe={class:"topbar-score"},he={class:"game-skill-list"},ke=["onClick"],ve=W((()=>u("i",{class:"num-skill-x"},null,-1))),be=W((()=>u("span",{class:"icon-guide-1-1"},null,-1))),Te=W((()=>u("span",{class:"icon-guide-1-2-2"},null,-1))),xe=W((()=>u("span",{class:"icon-guide-2-1"},null,-1))),$e=W((()=>u("span",{class:"icon-guide-2-2"},null,-1))),Be=W((()=>u("span",{class:"icon-guide-3-1-2"},null,-1))),De=W((()=>u("span",{class:"icon-guide-3-2"},null,-1))),Se={key:3,class:"icon-birthday"},Ce={key:0},Le={class:"dialogs-award bg-award"},Ee={key:0,class:"dialogs-effect"},Ie=["src"],ze=["src"],_e={class:"dialogs-rank bg-rank"},Ae={class:"rank-list"},Me=W((()=>u("span",{class:"rank-item-num"},null,-1))),Ue={class:"rank-item-name"},qe={class:"rank-item-score"},Pe=W((()=>u("i",{class:d("num-rank-fen")},null,-1))),Oe={class:"dialogs-rule bg-rule"},je={key:0},Ge={class:"dialogs-gameover bg-gameover"},Ke={class:"gameover-score"},Ne={class:"gameover-text"},Re={class:"gameover-btn"},He={key:0},Fe={class:"dialogs-pause bg-pause"},Je={class:"pause-score"},Qe=W((()=>u("span",{class:"btn btn-sure"},null,-1))),Xe=[W((()=>u("div",{class:"dialogs-share icon-share"},null,-1)))],Ye={id:"audio-list"},Ve=["id","src","loop"];const We=e(V,[["render",function(e,l,w,y,f,h){const k=o("Input"),v=o("Textarea");return a(),s("div",Z,[t(c,{name:"fade"},{default:r((()=>["mm"==e.scene?(a(),s("div",ee,[le,oe,ae,u("div",{class:"mm-main",style:S(`transform:scale(${e.scale})`)},[se,u("div",te,[u("span",{class:"btn btn-start",onClick:l[0]||(l[0]=l=>e.onGameStart())}),u("span",{class:"btn btn-rule",onClick:l[1]||(l[1]=l=>e.openDialogs("rule"))}),u("span",{class:"btn btn-rank",onClick:l[2]||(l[2]=l=>e.openDialogs("rank"))})])],4)])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>{var o,t,r;return["game"==e.scene?(a(),s("div",re,[u("div",{id:"game-main",onTouchstart:l[3]||(l[3]=(...l)=>e.onTouchStart&&e.onTouchStart(...l)),onTouchmove:l[4]||(l[4]=(...l)=>e.onTouchMove&&e.onTouchMove(...l)),onTouchend:l[5]||(l[5]=(...l)=>e.onTouchEnd&&e.onTouchEnd(...l))},[u("div",{id:"game-shoot",style:S(`transform: rotate(${e.shootAngle}deg);bottom:${180-e.offsetTop}px`)},[u("span",{class:d(["shoot-line",{active:e.currTouch}])},null,2),(null==(o=e.sequence)?void 0:o.length)>=1?(a(),s("span",{key:0,class:d(["ball-curr",[`ball-${e.sequence[0].type}`]])},null,2)):p("",!0),(null==(t=e.sequence)?void 0:t.length)>=2?(a(),s("span",{key:1,class:d(["ball-next",`ball-${e.sequence[1].type}`])},null,2)):p("",!0),ce,1===(null==(r=e.currBall)?void 0:r.state)?(a(),s("span",{key:2,id:"fly-ball",class:d(["ball-curr",[`ball-${e.currBall.type}`,{fly:1===e.currBall.state}]])},null,2)):p("",!0)],4),e.doubleScore?(a(),s("div",ne,[u("div",ie,[ue,C(" "+L(e.doubleScore)+"s ",1)]),de])):p("",!0),u("div",pe,[(a(!0),s(m,null,g(e.array2D,((e,l)=>(a(),s("div",{class:"ball-row",key:"ball-row-"+l},[(a(!0),s(m,null,g(e,((e,o)=>(a(),s("span",{key:"ball-row-"+l+"-"+o},[(null==e?void 0:e.type)?(a(),s(m,{key:0},[n(u("i",{class:d(["ball-item",[`ball-${e.type}`]])},null,2),[[i,e.state]]),0===e.state?(a(),s("span",me)):p("",!0),e.effect?(a(),s("span",{key:1,class:d(["ball-effect",`icon-effect-${e.effect}`])},null,2)):p("",!0)],64)):p("",!0)])))),128))])))),128))])],32),u("div",ge,[u("span",we,[ye,u("i",{class:d(`num-hp-${e.hp}`)},null,2)]),u("span",fe,[(a(!0),s(m,null,g(e.score+"",((e,l)=>(a(),s("i",{key:"topbar-score-"+l,class:d(`num-game-${e}`)},null,2)))),128))]),u("span",{class:"topbar-pause",onClick:l[6]||(l[6]=l=>e.openDialogs("pause"))})]),u("div",he,[(a(!0),s(m,null,g(e.skillList,((l,o)=>(a(),s("span",{class:d(["btn",`ball-${o+6}`,{disabled:!l}]),key:"skill-list-item-"+o,onClick:a=>e.onSkill(l,o)},[ve,(a(!0),s(m,null,g(l+"",((e,l)=>(a(),s("i",{key:"num-skill-"+o+"-"+l,class:d(`num-skill-${e}`)},null,2)))),128))],10,ke)))),128))]),0!=e.guide&&e.guide<=4?(a(),s("div",{key:0,id:"game-guide",class:"scene-layer",onClick:l[7]||(l[7]=l=>e.onNextGuide())},[1===e.guide?(a(),s(m,{key:0},[be,Te],64)):p("",!0),2===e.guide?(a(),s(m,{key:1},[xe,$e],64)):p("",!0),3===e.guide?(a(),s(m,{key:2},[Be,De],64)):p("",!0),4===e.guide?(a(),s("span",Se)):p("",!0)])):p("",!0)])):p("",!0)]})),_:1}),n(u("div",{id:"page-dialogs",class:d(["scene-layer",{noBg:-1!==e.dialogs.indexOf("effect-")}])},[t(c,{name:"fade"},{default:r((()=>["award"==e.dialogs?(a(),s("div",Ce,[u("div",Le,[t(k,{class:"award-name",value:e.form.name,"onUpdate:value":l[8]||(l[8]=l=>e.form.name=l)},null,8,["value"]),t(v,{class:"award-address",value:e.form.address,"onUpdate:value":l[9]||(l[9]=l=>e.form.address=l)},null,8,["value"]),t(k,{class:"award-phone",value:e.form.phone,"onUpdate:value":l[10]||(l[10]=l=>e.form.phone=l)},null,8,["value"]),u("span",{class:"award-submit",onClick:l[11]||(l[11]=l=>e.onSubmitAward())}),u("span",{class:"award-close",onClick:l[12]||(l[12]=l=>e.dialogs="")})])])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>[-1!==e.dialogs.indexOf("effect-")?(a(),s("div",Ee,[-1===e.dialogs.indexOf("bigbabol")?(a(),s("img",{key:0,class:d(e.dialogs),src:`${e.imgUrl}/game/${e.dialogs}.png`},null,10,Ie)):(a(),s("img",{key:1,class:"effect-bigbabol",src:`${e.imgUrl}/game/${e.dialogs}-1.gif`},null,8,ze))])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>["rank"==e.dialogs?(a(),s("div",{key:0,style:S(`transform:scale(${e.scale})`)},[u("div",_e,[u("span",{class:"rank-close",onClick:l[13]||(l[13]=l=>e.dialogs="")}),u("div",Ae,[(a(!0),s(m,null,g(e.rankList,((e,l)=>{var o;return a(),s("span",{class:d(["rank-item",`num-rank-head-${l+1}`]),key:"rank-item-"+l},[Me,u("span",Ue,L((null==(o=e.userInfo)?void 0:o.nickname)??""),1),u("span",qe,[(a(!0),s(m,null,g(e.gameScore+"",((e,l)=>(a(),s("i",{key:"topbar-score-"+l,class:d(`num-rank-${e}`)},null,2)))),128)),Pe])],2)})),128))])])],4)):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>["rule"==e.dialogs?(a(),s("div",{key:0,style:S(`transform:scale(${e.scale})`)},[u("div",Oe,[u("span",{class:"rule-close",onClick:l[14]||(l[14]=l=>e.dialogs="")}),u("span",{class:"rule-ok",onClick:l[15]||(l[15]=l=>e.dialogs="")})])],4)):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>["gameover"==e.dialogs?(a(),s("div",je,[u("div",Ge,[u("span",Ke,[(a(!0),s(m,null,g(e.score+"",((e,l)=>(a(),s("i",{key:"topbar-score-"+l,class:d(`num-gameover-${e}`)},null,2)))),128))]),u("span",Ne,[u("i",{class:d("icon-gameover-"+(e.score>1e3?"2":"1"))},null,2)]),u("span",Re,[u("i",{class:"gameover-home",onClick:l[16]||(l[16]=l=>{e.dialogs="",e.scene="mm"})}),u("i",{class:"gameover-again",onClick:l[17]||(l[17]=l=>e.onGameStart())}),u("i",{class:"gameover-rank",onClick:l[18]||(l[18]=l=>{e.dialogs="rank",e.scene="mm"})})]),u("i",{class:"gameover-close",onClick:l[19]||(l[19]=l=>{e.dialogs="",e.scene="mm"})})])])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>["pause"==e.dialogs?(a(),s("div",He,[u("div",Fe,[u("span",Je,[(a(!0),s(m,null,g(e.score+"",((e,l)=>(a(),s("i",{key:"topbar-score-"+l,class:d(`num-game-${e}`)},null,2)))),128))]),u("span",{class:"pause-back",onClick:l[20]||(l[20]=l=>e.dialogs="")}),u("span",{class:"pause-exit",onClick:l[21]||(l[21]=l=>{e.dialogs="",e.scene="mm"})})])])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>[-1!==e.dialogs.indexOf("skill-")?(a(),s("div",{key:0,class:"dialogs-skill",onClick:l[22]||(l[22]=l=>e.openDialogs("",!0))},[u("div",{class:d(`bg-${e.dialogs}`)},null,2),Qe])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:r((()=>[e.share?(a(),s("div",{key:0,onClick:l[23]||(l[23]=l=>e.share=!1)},Xe)):p("",!0)])),_:1})],2),[[i,e.dialogs||e.share]]),e.audioList.length?(a(),s("div",{key:0,class:d(["btn-music",[{active:e.volume},{bottom:"game"==e.scene}]]),onClick:l[24]||(l[24]=l=>e.onPlayAudio("bgm",!0))},null,2)):p("",!0),n(u("div",Ye,[(a(!0),s(m,null,g(e.audioList,(e=>(a(),s("audio",{id:"audio-item-"+e.name,key:"audio-item-"+e.name,src:e.src,loop:e.loop??!1},null,8,Ve)))),128))],512),[[i,!1]])])}],["__scopeId","data-v-1a4d2a04"]]);export{We as default};
