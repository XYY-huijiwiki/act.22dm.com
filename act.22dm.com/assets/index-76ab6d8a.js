import{_ as e,d as l,o as a,c as o,x as t,y as s,T as c,q as r,v as i,j as n,n as d,l as p,F as u,m,Y as k,u as g,b as y,g as w,S as f,C as h,J as v,N as b,f as T,h as x,a8 as $,i as D,p as C,a1 as L,z as B,V as G,t as S,w as E,H as I,a9 as R,U as _,K as q,a6 as z,aa as P,a7 as A,ab as O,O as N,P as U}from"./index-a1be4496.js";import{w as M}from"./wxjssdk-544a68f8.js";import{g as j}from"./sign-54d406fa.js";import{T as K,I as H}from"./index-d424a5ff.js";import"./isObjectLike-38825d63.js";const J=(e,l,a=0)=>{let o=0,t=!1,{type:s}=l;const c=l.row,r=l.col;let i=V(e,l),n=[];return 7===s?l.state=0:8===s?(l.effect="split",setTimeout((()=>{l.effect=""}),300),e[c].forEach((e=>{e.state&&(o+=5,5===e.type&&(t=!0)),e.state=0})),0!=c&&e[c-1].forEach((e=>{e.state&&(o+=5,5===e.type&&(t=!0)),e.state=0}))):9===s?(l.effect="fire",setTimeout((()=>{l.effect=""}),400),l.state=0,o+=5,n=F(i,c,r),n.forEach((l=>{var a;(null==(a=e[l.row][l.col])?void 0:a.state)&&(e[l.row][l.col].state=0,o+=5,5===e[l.row][l.col].type&&(t=!0))}))):(n=Y(i,c,r),(n.length>=3||a)&&n.forEach((l=>{var a;(null==(a=e[l.row][l.col])?void 0:a.state)&&(e[l.row][l.col].state=0,o+=5,5===e[l.row][l.col].type&&(t=!0))}))),{type:s,score:o,skill:t,gameBoard:i,connectedBalls:n}},Y=(e,l,a)=>{const o=e.length,t=e[0].length,s=Array.from({length:o},(()=>Array(t).fill(!1))),c=[];c.push({row:l,col:a}),s[l][a]=!0;const r=[];for(;c.length>0;){const{row:l,col:a}=c.shift();r.push({row:l,col:a});const i=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}];for(const r of i){const i=l+r.row,n=a+r.col;i>=0&&i<o&&n>=0&&n<t&&1===e[i][n]&&!s[i][n]&&(c.push({row:i,col:n}),s[i][n]=!0)}}return r},F=(e,l,a)=>{const o=e.length,t=e[0].length,s=[];for(let c=l-2;c<=l+2;c++)for(let l=a-2;l<=a+2;l++)c>=0&&c<o&&l>=0&&l<t&&s.push({row:c,col:l,value:e[c][l]});return s},V=(e,l)=>e.map((e=>e.map((e=>e&&e.state&&(e.type===l.type||5===e.type)?1:0))));let W,X,Q,Z=[],ee="https://cpe-app-oss.oss-cn-shenzhen.aliyuncs.com/h5/bubble-v2/image";const le=l({name:"wolfsburg",components:{Textarea:K,Input:H},setup(e,l){var a,o;let t=new M({});k();const s=g(),c=y({imgUrl:ee,userInfo:(null==(a=s.params)?void 0:a.userInfo)??{},loading:!1,volume:!1,scene:"mm",dialogs:"",share:!1,scale:w(1600),scale2:w(1815),k:"",k2:"",audioList:[{name:"bgm",src:`${ee}/audio/bgm.mp3`,loop:!0},{name:"redpacket1",src:`${ee}/audio/redpacket1.wav`,loop:!0},{name:"click",src:`${ee}/audio/click.mp3`,loop:!1},{name:"dead",src:`${ee}/audio/dead.mp3`,loop:!1},{name:"fire",src:`${ee}/audio/fire.mp3`,loop:!1},{name:"gameover",src:`${ee}/audio/gameover.mp3`,loop:!1},{name:"perfect",src:`${ee}/audio/perfect.mp3`,loop:!1},{name:"rainbow",src:`${ee}/audio/rainbow.mp3`,loop:!1},{name:"shoot",src:`${ee}/audio/shoot.mp3`,loop:!1},{name:"skill",src:`${ee}/audio/skill.mp3`,loop:!1},{name:"split",src:`${ee}/audio/redpacket2.wav`,loop:!1},{name:"miss",src:`${ee}/audio/miss.mp3`,loop:!1}],rankList:[],array2D:[[{row:0,col:0,type:1,state:1},{row:0,col:1,type:10,state:1},{row:0,col:2,type:2,state:1},{row:0,col:3,type:4,state:1},{row:0,col:4,type:1,state:1},{row:0,col:5,type:11,state:1},{row:0,col:6,type:2,state:1},{row:0,col:7,type:3,state:1}],[{row:1,col:0,type:2,state:1},{row:1,col:1,type:3,state:1},{row:1,col:2,type:10,state:1},{row:1,col:3,type:2,state:1},{row:1,col:4,type:2,state:1},{row:1,col:5,type:3,state:1},{row:1,col:6,type:2,state:1},{row:1,col:7,type:4,state:1}],[{row:2,col:0,type:3,state:1},{row:2,col:1,type:11,state:1},{row:2,col:2,type:3,state:1},{row:2,col:3,type:11,state:1},{row:2,col:4,type:3,state:1},{row:2,col:5,type:10,state:1},{row:2,col:6,type:2,state:1},{row:2,col:7,type:11,state:1}],[{row:3,col:0},{row:3,col:1},{row:3,col:2},{row:3,col:3},{row:3,col:4},{row:3,col:5},{row:3,col:6},{row:3,col:7}],[{row:4,col:0},{row:4,col:1},{row:4,col:2},{row:4,col:3},{row:4,col:4},{row:4,col:5},{row:4,col:6},{row:4,col:7}],[{row:5,col:0},{row:5,col:1},{row:5,col:2},{row:5,col:3},{row:5,col:4},{row:5,col:5},{row:5,col:6},{row:5,col:7}],[{row:6,col:0},{row:6,col:1},{row:6,col:2},{row:6,col:3},{row:6,col:4},{row:6,col:5},{row:6,col:6},{row:6,col:7}],[{row:7,col:0},{row:7,col:1},{row:7,col:2},{row:7,col:3},{row:7,col:4},{row:7,col:5},{row:7,col:6},{row:7,col:7}]],hp:3,score:0,skillList:[0,0,0,0],timer:null,timerDouble:null,beginTime:0,doubleScore:0,gameover:!1,sequence:[{type:1},{type:2}],currBall:null,shootAngle:0,miss:0,perfect:0,guide:0,currTouch:null,prizeBall:0,offsetTop:0,cunPrize:!1,config:{perfectLimit:10,prizeBall:200,redpacketRatio:1,whitelist:[]},canPlayRedpacket:!1,redpacketAlready:!1,redpacketGame:{start:!1,count:0,code:null,timer:null,time:30},redpacketDropList:[],redpacketList:[],redpacketCount:0});X=(null==(o=c.userInfo)?void 0:o.unionid)??"",f((()=>c.hp),((e,l)=>{e<=0?m():1===e?(c.array2D.forEach((e=>{e.forEach((e=>{e.state&&(e.state=0)}))})),n()):e<l&&(B("effect-hp-1"),setTimeout((()=>{B("")}),350))})),f((()=>c.miss),(e=>{4===e&&(c.hp--,c.miss=0,S("miss"))})),f((()=>c.score),(e=>{var l;(e>=2e3||(null==(l=c.config.whiteList)?void 0:l.includes(X))&&e>=20)&&c.canPlayRedpacket&&(c.canPlayRedpacket=!1,c.dialogs="skill-11");let a=Math.floor(e/c.config.prizeBall);if(c.prizeBall<a){let e=h(0,2),l=h(0,7),a=c.array2D[e][l];a.type=5,a.state=1,a.effect="",c.prizeBall++}})),f((()=>c.dialogs),(e=>{["pause","skill","rule","rank"].includes(e)?S("click"):-1!==e.indexOf("skill")?S("skill"):"gameover"==e&&S("gameover")}));const r=()=>{var e;if(1===(null==(e=c.currBall)?void 0:e.state)){let e=document.getElementById("fly-ball"),l=null;if(!e)return;let a=e.getBoundingClientRect(),o=[a.x+a.width/2,a.top+a.height/2],t=c.array2D;e:for(let s=t.length-1;s>=0;s--){let e=t[s];for(let c=0;c<e.length;c++){let e=t[s][c];if(R(o,[e.x,e.y])<=a.width/2+3&&!Z.includes(e))if(e.type&&0!==e.state){if(Z.length){l=Z[0];break e}}else{if(0===s){l=e;break e}Z.unshift(e)}}}if(c.currBall&&(a.top<-100||a.x<-0||a.x>750)&&(c.miss++,B("effect-miss"),setTimeout((()=>{B("")}),350),c.currBall=null,Z=[]),l&&c.currBall){if(l.type=c.currBall.type,l.state=1,l.effect=null,6!==l.type)i(J(c.array2D,l));else{l.effect="rainbow",S("rainbow"),setTimeout((()=>{l.effect=""}),600);let e=[J(c.array2D,{...l,type:1},1),J(c.array2D,{...l,type:2},1),J(c.array2D,{...l,type:3},1),J(c.array2D,{...l,type:4},1),J(c.array2D,{...l,type:10},1),J(c.array2D,{...l,type:11},1)],a={type:6,score:0};e.forEach((e=>{a.score+=e.score,e.skill&&(a.skill=!0)})),i(a)}c.currBall=null,Z=[]}}},i=e=>{let{type:l,score:a,skill:o}=e;if(c.score+=c.doubleScore?2*a:a,o){let e=h(0,4);4!==e?c.skillList[e]++:c.hp++,B(`skill-${e+6}`)}0===a&&7!==l?c.miss++:(S("dead"),c.miss=0),a>=5*c.config.perfectLimit*(c.doubleScore?1:2)&&(c.perfect++,B("effect-perfect"),setTimeout((()=>{B("")}),500)),7===l?(c.doubleScore=30,c.timerDouble=setInterval((()=>{c.dialogs||c.gameover||(c.doubleScore--,c.doubleScore<=0&&(clearInterval(c.timerDouble),c.doubleScore=0))}),1e3)):8==l?S("split"):9==l&&S("fire"),d()||n()},n=()=>{c.array2D.forEach(((e,l)=>{l<3&&e.forEach((e=>{e.type=u(),e.state=1}))}))},d=()=>{let e=0;return c.array2D.forEach((l=>{l.forEach((l=>{(null==l?void 0:l.state)&&e++}))})),0!==e},p=()=>{if(c.currBall||c.gameover)return;let e=c.sequence.shift();c.currBall=e,e&&(c.sequence.push({type:u()}),e.state=1,c.beginTime||(c.beginTime=(new Date).getTime())),S("shoot")},u=()=>{let e=[1,2,3,4,10,11];return e[h(0,e.length-1)]},m=()=>{c.gameover=!0,c.timer&&clearInterval(c.timer),setTimeout((()=>{B("gameover")}),800);let{k:e,score:l,perfect:a,hp:o}=c,t=j({k:e,unionid:X,score:l,level:a});v({ownerUnionid:X,activityKey:W,gameScore:l,levelNum:a,playTime:(new Date).getTime()-c.beginTime,extra:{perfect:a,hp:o},k:e,s:t})},B=(e,l=!1)=>{(e||-1===c.dialogs.indexOf("bigbabol")&&-1===c.dialogs.indexOf("skill")||l)&&(c.dialogs=e)},G=()=>{c.redpacketGame.timer&&clearInterval(c.redpacketGame.timer);let{count:e,code:l,time:a}=c.redpacketGame;if(P("redpacket1"),B("redpacket-"+(l?1:0)),A({ownerUnionid:X,playType:2,bottleType:2,periodNum:4,content:{count:e,code:l,time:30-a}}),l){let{k2:e}=c,a=j({k:e,unionid:X,score:0,level:0});v({ownerUnionid:X,activityKey:"bubble-redpacket",gameScore:0,levelNum:0,playTime:0,extra:{code:l},k:e,s:a})}},S=(e,l=!1)=>{b(c,e,l)};return T((()=>{var e,l;W=(null==(e=s.meta)?void 0:e.activityKey)??"bubble";let a=location.origin+s.path,o=(null==(l=s.meta)?void 0:l.imgUrl)??"";if(window.innerHeight<1400){let e=Math.abs(window.innerHeight-1400);c.offsetTop=e>160?160:e}x({activityKey:W}).then((({code:e,data:l})=>{var a,o;0===e&&(c.k=l.k,c.cunPrize=(null==(a=l.extra)?void 0:a.cunPrize)??!1,(null==(o=l.extra)?void 0:o.config)&&(c.config=l.extra.config),_({activityKey:W,rankSize:20,endTime:"2024-02-28 00:00:00",periodNum:1}).then((({code:e,data:l})=>{0===e&&(c.rankList=l)})),$({unionid:X,periodNum:4}).then((({code:e,data:l})=>{if(0===e){let e=!0;l.playType2.forEach((l=>{var a;(null==l?void 0:l.addTime)&&D(l.addTime)&&(e=!1),(null==(a=l.content)?void 0:a.code)&&(c.redpacketGame.code=l.content.code,c.redpacketAlready=!0)})),c.canPlayRedpacket=e}})))})),t.ready((()=>{var e,l;S("bgm",!0),t.updateShareData({title:(null==(e=s.meta)?void 0:e.title)??"",desc:(null==(l=s.meta)?void 0:l.desc)??"",link:a,imgUrl:o}),document.addEventListener("visibilitychange",(e=>{document.hidden?C():c.volume&&S("bgm",!0)}))}))})),{...L(c),onPlayAudio:S,onGameStart:()=>{var e;c.array2D=[[{row:0,col:0,type:1,state:1},{row:0,col:1,type:10,state:1},{row:0,col:2,type:2,state:1},{row:0,col:3,type:4,state:1},{row:0,col:4,type:1,state:1},{row:0,col:5,type:11,state:1},{row:0,col:6,type:2,state:1},{row:0,col:7,type:3,state:1}],[{row:1,col:0,type:2,state:1},{row:1,col:1,type:3,state:1},{row:1,col:2,type:10,state:1},{row:1,col:3,type:2,state:1},{row:1,col:4,type:2,state:1},{row:1,col:5,type:3,state:1},{row:1,col:6,type:2,state:1},{row:1,col:7,type:4,state:1}],[{row:2,col:0,type:3,state:1},{row:2,col:1,type:11,state:1},{row:2,col:2,type:3,state:1},{row:2,col:3,type:11,state:1},{row:2,col:4,type:3,state:1},{row:2,col:5,type:10,state:1},{row:2,col:6,type:2,state:1},{row:2,col:7,type:11,state:1}],[{row:3,col:0},{row:3,col:1},{row:3,col:2},{row:3,col:3},{row:3,col:4},{row:3,col:5},{row:3,col:6},{row:3,col:7}],[{row:4,col:0},{row:4,col:1},{row:4,col:2},{row:4,col:3},{row:4,col:4},{row:4,col:5},{row:4,col:6},{row:4,col:7}],[{row:5,col:0},{row:5,col:1},{row:5,col:2},{row:5,col:3},{row:5,col:4},{row:5,col:5},{row:5,col:6},{row:5,col:7}],[{row:6,col:0},{row:6,col:1},{row:6,col:2},{row:6,col:3},{row:6,col:4},{row:6,col:5},{row:6,col:6},{row:6,col:7}],[{row:7,col:0},{row:7,col:1},{row:7,col:2},{row:7,col:3},{row:7,col:4},{row:7,col:5},{row:7,col:6},{row:7,col:7}]],c.currBall=null,c.hp=3,c.score=0,c.miss=0,c.skillList=[0,0,0,0],c.doubleScore=0,c.perfect=0,c.sequence=[{type:u()},{type:u()}],c.scene="game",c.gameover=!1,c.currTouch=!1,c.shootAngle=0,c.beginTime=0,c.prizeBall=0,0===c.guide?c.guide=1:c.guide>4&&c.cunPrize&&(c.guide=4),c.timer&&clearInterval(c.timer),c.timerDouble&&clearInterval(c.timerDouble),B(""),c.timer=setInterval((()=>{c.gameover||r()}),16),I((()=>{Q=document.getElementById("game-shoot"),(e=>{let l=document.getElementsByClassName("ball-row");for(let a=0;a<l.length;a++){let o=l[a].children;for(let l=0;l<o.length;l++){let t=e[a][l],s=o[l].getBoundingClientRect();t.x=s.x+s.width/2,t.y=s.top+s.height/2}}})(c.array2D)})),S("click"),(null==(e=c.config.whiteList)?void 0:e.includes(X))&&(c.skillList=[20,20,20,20])},onGameBack:()=>{B(""),c.scene="mm",c.timer&&clearInterval(c.timer)},submitAward:()=>{let{name:e,phone:l,address:a}=c.form;e&&l&&a?11==l.length?q({activityKey:W,ownerUnionid:X,address:a,name:e,phone:l,extra:{}}).then((()=>{B(""),alert("提交成功")})):alert("请填写11位手机号码"):alert("请输入正确的信息")},openDialogs:B,onSkill:(e,l)=>{e&&(c.sequence.unshift({type:l+6}),c.skillList[l]--)},onShoot:p,onTouchStart:e=>{e.preventDefault(),c.currBall||c.dialogs||c.gameover||(c.currTouch=e.touches[0])},onTouchMove:e=>{if(e.preventDefault(),c.currTouch&&!c.dialogs){let l=Q.getBoundingClientRect(),a=e.touches[0].clientX,o=e.touches[0].clientY,t=l.x+l.width/2,s=l.y+l.height,r=Math.atan2(o-s,a-t);r*=180/Math.PI,a>=t?r=90-Math.abs(r):r+=90,Math.abs(r)<50&&(c.shootAngle=r)}},onTouchEnd:e=>{e.preventDefault(),c.currTouch=null,p()},onNextGuide:()=>{c.guide++,4!==c.guide||c.cunPrize||c.guide++,5===c.guide&&c.cunPrize&&(()=>{for(let e=0;e<3;e++)c.skillList[h(0,c.skillList.length-1)]++})()},showRedpacket:(e=!1)=>{e?c.redpacketGame.code&&window.open(`https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket?receiveuri=${c.redpacketGame.code}&check_type=2#wechat_redirect`):c.redpacketGame.start=!1,B("")},clickRedpacket:e=>{var l,a;if(-1!==(null==(a=null==(l=e.target)?void 0:l.id)?void 0:a.indexOf("icon-redpacket-"))){let l=c.redpacketDropList[1*e.target.id.substr(15)];(null==l?void 0:l.open)||(l.open=!0,c.redpacketGame.count++)}},initRedpacket:()=>{B("",!0);let e=[150,375,600];c.redpacketDropList=[],c.redpacketGame.count=0,c.redpacketGame.time=30,c.redpacketGame.start=!0,S("redpacket1"),c.redpacketGame.timer=setInterval((()=>{c.redpacketGame.time-=1;for(let l=0;l<e.length;l++){let a=O(1.2,1.5),o=O(2,4),t=h(0,360);c.redpacketDropList.push({id:c.redpacketDropList.length,left:e[l],open:!1,scale:a,time:o,rotate:t})}c.redpacketGame.time<=0&&G()}),1e3);let l=h(1,100);if(c.config.whiteList.includes(X)&&(l=0),!c.redpacketAlready&&l<=l<=c.config.redpacketRatio){let e={activityKey:"bubble-redpacket",periodNum:1};x(e).then((({code:l,data:a})=>{0===l&&(c.k2=a.k,c.redpacketList=JSON.parse(atob(a.extra.r??"W10=")),z(e).then((({code:e,data:l})=>{if(0===e&&(c.redpacketCount=l.playCount,c.redpacketCount<c.redpacketList.length)){let e=c.redpacketList[c.redpacketCount];c.redpacketGame.code=e}})))}))}}}}}),ae=e=>(N("data-v-457d98cf"),e=e(),U(),e),oe={id:"page"},te={key:0,id:"scene-mm",class:"scene-layer"},se=ae((()=>n("span",{class:"icon-logo2"},null,-1))),ce=ae((()=>n("span",{class:"icon-logo"},null,-1))),re=ae((()=>n("span",{class:"icon-reserved"},null,-1))),ie=ae((()=>n("div",{class:"mm-title"},[n("span",{class:"icon-mm-title"}),n("span",{class:"icon-mm-role"})],-1))),ne={class:"mm-btn"},de={key:0,id:"scene-game",class:"scene-layer"},pe=ae((()=>n("div",{id:"game-bg"},null,-1))),ue=ae((()=>n("span",{class:"icon-shoot"},null,-1))),me={key:0,id:"game-doubleScore",class:"icon-clock-bg"},ke={class:"countdown-text"},ge=ae((()=>n("span",{class:"icon-clock-text"},null,-1))),ye=ae((()=>n("div",{class:"countdown-container"},[n("span",{class:"countdown-inner"})],-1))),we={id:"game-array"},fe={key:0,class:"ball-dead icon-effect-dead"},he={class:"icon-topbar"},ve={class:"topbar-hp"},be=ae((()=>n("i",{class:"num-hp-x"},null,-1))),Te={class:"topbar-score"},xe={class:"game-skill-list"},$e=["onClick"],De=ae((()=>n("i",{class:"num-skill-x"},null,-1))),Ce=ae((()=>n("span",{class:"icon-guide-1-1"},null,-1))),Le=ae((()=>n("span",{class:"icon-guide-1-2-2"},null,-1))),Be=ae((()=>n("span",{class:"icon-guide-2-1"},null,-1))),Ge=ae((()=>n("span",{class:"icon-guide-2-2"},null,-1))),Se=ae((()=>n("span",{class:"icon-guide-3-1-2"},null,-1))),Ee=ae((()=>n("span",{class:"icon-guide-3-2"},null,-1))),Ie={key:3,class:"icon-birthday"},Re={class:"redpacket-timer"},_e=ae((()=>n("span",{class:"icon-redpacket-timer"},null,-1))),qe={class:"redpacket-count"},ze=ae((()=>n("span",{class:"icon-redpacket"},null,-1))),Pe=ae((()=>n("div",{class:"redpacket-tips"},[n("span",{class:"icon-redpacket-tips"})],-1))),Ae={id:"redpacket-drop",class:"scene-layer"},Oe=["id"],Ne={key:0,class:"dialogs-redpacket"},Ue={key:0,class:"dialogs-effect"},Me=["src"],je=["src"],Ke={class:"dialogs-rank bg-rank"},He={class:"rank-list"},Je=ae((()=>n("span",{class:"rank-item-num"},null,-1))),Ye={class:"rank-item-name"},Fe={class:"rank-item-score"},Ve=ae((()=>n("i",{class:d("num-rank-fen")},null,-1))),We={class:"dialogs-rule bg-rule"},Xe={key:0},Qe={class:"dialogs-gameover bg-gameover"},Ze={class:"gameover-score"},el={class:"gameover-text"},ll={class:"gameover-btn"},al={key:0},ol={class:"dialogs-pause bg-pause"},tl={class:"pause-score"},sl=[ae((()=>n("div",{class:"dialogs-share icon-share"},null,-1)))],cl={id:"audio-list"},rl=["id","src","loop"];const il=e(le,[["render",function(e,l,k,g,y,w){return a(),o("div",oe,[t(c,{name:"fade"},{default:s((()=>["mm"==e.scene?(a(),o("div",te,[se,ce,re,n("div",{class:"mm-main",style:B(`transform:scale(${e.scale})`)},[ie,n("div",ne,[n("span",{class:"btn btn-start",onClick:l[0]||(l[0]=l=>e.onGameStart())}),n("span",{class:"btn btn-rule",onClick:l[1]||(l[1]=l=>e.openDialogs("rule"))}),n("span",{class:"btn btn-rank",onClick:l[2]||(l[2]=l=>e.openDialogs("rank"))}),n("span",{class:"btn icon-redpacket",onClick:l[3]||(l[3]=l=>e.openDialogs("redpacket-record"))})])],4)])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>{var t,s,c;return["game"==e.scene?(a(),o("div",de,[n("div",{id:"game-main",onTouchstart:l[4]||(l[4]=(...l)=>e.onTouchStart&&e.onTouchStart(...l)),onTouchmove:l[5]||(l[5]=(...l)=>e.onTouchMove&&e.onTouchMove(...l)),onTouchend:l[6]||(l[6]=(...l)=>e.onTouchEnd&&e.onTouchEnd(...l))},[pe,n("div",{id:"game-bottom",class:"icon-cloud",style:B(`bottom:${-e.offsetTop}px`)},null,4),n("div",{id:"game-shoot",style:B(`transform: rotate(${e.shootAngle}deg);bottom:${180-e.offsetTop}px`)},[n("span",{class:d(["shoot-line",{active:e.currTouch}])},null,2),(null==(t=e.sequence)?void 0:t.length)>=1?(a(),o("span",{key:0,class:d(["ball-curr",[`ball-${e.sequence[0].type}`]])},null,2)):p("",!0),(null==(s=e.sequence)?void 0:s.length)>=2?(a(),o("span",{key:1,class:d(["ball-next",`ball-${e.sequence[1].type}`])},null,2)):p("",!0),ue,1===(null==(c=e.currBall)?void 0:c.state)?(a(),o("span",{key:2,id:"fly-ball",class:d(["ball-curr",[`ball-${e.currBall.type}`,{fly:1===e.currBall.state}]])},null,2)):p("",!0)],4),e.doubleScore?(a(),o("div",me,[n("div",ke,[ge,G(" "+S(e.doubleScore)+"s ",1)]),ye])):p("",!0),n("div",we,[(a(!0),o(u,null,m(e.array2D,((e,l)=>(a(),o("div",{class:"ball-row",key:"ball-row-"+l},[(a(!0),o(u,null,m(e,((e,t)=>(a(),o("span",{key:"ball-row-"+l+"-"+t},[(null==e?void 0:e.type)?(a(),o(u,{key:0},[r(n("i",{class:d(["ball-item",[`ball-${e.type}`]])},null,2),[[i,e.state]]),0===e.state?(a(),o("span",fe)):p("",!0),e.effect?(a(),o("span",{key:1,class:d(["ball-effect",`icon-effect-${e.effect}`])},null,2)):p("",!0)],64)):p("",!0)])))),128))])))),128))])],32),n("div",he,[n("span",ve,[be,n("i",{class:d(`num-hp-${e.hp}`)},null,2)]),n("span",Te,[(a(!0),o(u,null,m(e.score+"",((e,l)=>(a(),o("i",{key:"topbar-score-"+l,class:d(`num-game-${e}`)},null,2)))),128))]),n("span",{class:"topbar-pause",onClick:l[7]||(l[7]=l=>e.openDialogs("pause"))})]),n("div",xe,[(a(!0),o(u,null,m(e.skillList,((l,t)=>(a(),o("span",{class:d(["btn",`ball-${t+6}`,{disabled:!l}]),key:"skill-list-item-"+t,onClick:a=>e.onSkill(l,t)},[De,(a(!0),o(u,null,m(l+"",((e,l)=>(a(),o("i",{key:"num-skill-"+t+"-"+l,class:d(`num-skill-${e}`)},null,2)))),128))],10,$e)))),128))]),0!=e.guide&&e.guide<=4?(a(),o("div",{key:0,id:"game-guide",class:"scene-layer",onClick:l[8]||(l[8]=l=>e.onNextGuide())},[1===e.guide?(a(),o(u,{key:0},[Ce,Le],64)):p("",!0),2===e.guide?(a(),o(u,{key:1},[Be,Ge],64)):p("",!0),3===e.guide?(a(),o(u,{key:2},[Se,Ee],64)):p("",!0),4===e.guide?(a(),o("span",Ie)):p("",!0)])):p("",!0),e.redpacketGame.start?(a(),o("div",{key:1,id:"game-redpacket",class:"scene-layer",onTouchstart:l[9]||(l[9]=(...l)=>e.clickRedpacket&&e.clickRedpacket(...l))},[n("div",Re,[_e,n("span",null,S(e.redpacketGame.time)+"s",1)]),n("div",qe,[ze,n("span",null,"x"+S(e.redpacketGame.count),1)]),Pe,n("div",Ae,[(a(!0),o(u,null,m(e.redpacketDropList,((e,l)=>(a(),o(u,{key:`redpacket-drop-${l}`},[e.open?p("",!0):(a(),o("span",{key:0,class:"icon-redpacket",id:`icon-redpacket-${l}`,style:B({left:e.left+"px",scale:e.scale,rotate:e.rotate+"deg","animation-duration":e.time+"s"})},null,12,Oe))],64)))),128))])],32)):p("",!0)])):p("",!0)]})),_:1}),r(n("div",{id:"page-dialogs",class:d(["scene-layer",{noBg:-1!==e.dialogs.indexOf("effect-")}])},[t(c,{name:"fade"},{default:s((()=>[-1!==e.dialogs.indexOf("redpacket-")?(a(),o("div",Ne,[n("div",{class:d(`bg-${e.dialogs}`)},["redpacket-record"==e.dialogs?(a(),o(u,{key:0},[n("span",{class:"redpacket-link",onClick:l[10]||(l[10]=l=>e.showRedpacket(1))},S(`https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket?receiveuri=${e.redpacketGame.code}&check_type=2#wechat_redirect`),1),n("span",{class:d(["redpacket-text","icon-redpacket-"+(e.redpacketGame.code?1:0)])},null,2)],64)):p("",!0),n("span",{class:"btn-close",onClick:l[11]||(l[11]=E((l=>e.showRedpacket()),["self"]))})],2)])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>[-1!==e.dialogs.indexOf("effect-")?(a(),o("div",Ue,[-1===e.dialogs.indexOf("bigbabol")?(a(),o("img",{key:0,class:d(e.dialogs),src:`${e.imgUrl}/game/${e.dialogs}.png`},null,10,Me)):(a(),o("img",{key:1,class:"effect-bigbabol",src:`${e.imgUrl}/game/${e.dialogs}-1.gif`},null,8,je))])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>["rank"==e.dialogs?(a(),o("div",{key:0,style:B(`transform:scale(${e.scale2})`)},[n("div",Ke,[n("span",{class:"rank-close",onClick:l[12]||(l[12]=l=>e.dialogs="")}),n("div",He,[(a(!0),o(u,null,m(e.rankList,((e,l)=>{var t;return a(),o("span",{class:d(["rank-item",`num-rank-head-${l+1}`]),key:"rank-item-"+l},[Je,n("span",Ye,S((null==(t=e.userInfo)?void 0:t.nickname)??""),1),n("span",Fe,[(a(!0),o(u,null,m(e.gameScore+"",((e,l)=>(a(),o("i",{key:"topbar-score-"+l,class:d(`num-rank-${e}`)},null,2)))),128)),Ve])],2)})),128))])])],4)):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>["rule"==e.dialogs?(a(),o("div",{key:0,style:B(`transform:scale(${e.scale2})`)},[n("div",We,[n("span",{class:"rule-close",onClick:l[13]||(l[13]=l=>e.dialogs="")}),n("span",{class:"rule-ok",onClick:l[14]||(l[14]=l=>e.dialogs="")})])],4)):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>["gameover"==e.dialogs?(a(),o("div",Xe,[n("div",Qe,[n("span",Ze,[(a(!0),o(u,null,m(e.score+"",((e,l)=>(a(),o("i",{key:"topbar-score-"+l,class:d(`num-gameover-${e}`)},null,2)))),128))]),n("span",el,[n("i",{class:d("icon-gameover-"+(e.score>1e3?"2":"1"))},null,2)]),n("span",ll,[n("i",{class:"gameover-home",onClick:l[15]||(l[15]=l=>{e.dialogs="",e.scene="mm"})}),n("i",{class:"gameover-again",onClick:l[16]||(l[16]=l=>e.onGameStart())}),n("i",{class:"gameover-rank",onClick:l[17]||(l[17]=l=>{e.dialogs="rank",e.scene="mm"})})]),n("i",{class:"gameover-close",onClick:l[18]||(l[18]=l=>{e.dialogs="",e.scene="mm"})})])])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>["pause"==e.dialogs?(a(),o("div",al,[n("div",ol,[n("span",tl,[(a(!0),o(u,null,m(e.score+"",((e,l)=>(a(),o("i",{key:"topbar-score-"+l,class:d(`num-gameover-${e}`)},null,2)))),128))]),n("span",{class:"pause-back",onClick:l[19]||(l[19]=l=>e.dialogs="")}),n("span",{class:"pause-exit",onClick:l[20]||(l[20]=l=>{e.dialogs="",e.scene="mm"})})])])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>[-1!==e.dialogs.indexOf("skill-")?(a(),o("div",{key:0,class:"dialogs-skill",onClick:l[21]||(l[21]=l=>"skill-11"==e.dialogs?e.initRedpacket():e.openDialogs("",!0))},[n("div",{class:d(`bg-${e.dialogs}`)},null,2),n("span",{class:d(["btn","skill-11"==e.dialogs?"btn-sure":"btn-start2"])},null,2)])):p("",!0)])),_:1}),t(c,{name:"fade"},{default:s((()=>[e.share?(a(),o("div",{key:0,onClick:l[22]||(l[22]=l=>e.share=!1)},sl)):p("",!0)])),_:1})],2),[[i,e.dialogs||e.share]]),e.audioList.length?(a(),o("div",{key:0,class:d(["btn-music",[{active:e.volume},{bottom:"game"==e.scene}]]),onClick:l[23]||(l[23]=l=>e.onPlayAudio("bgm",!0))},null,2)):p("",!0),r(n("div",cl,[(a(!0),o(u,null,m(e.audioList,(e=>(a(),o("audio",{id:"audio-item-"+e.name,key:"audio-item-"+e.name,src:e.src,loop:e.loop??!1},null,8,rl)))),128))],512),[[i,!1]])])}],["__scopeId","data-v-457d98cf"]]);export{il as default};
