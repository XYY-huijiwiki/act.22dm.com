import{_ as e,d as s,u as l,r as a,i as t,g as n,a as i,w as d,b as o,e as u,f as c,p as r,h as p,o as I,c as v,j as m,k as g,n as y,l as k,m as w,q as h,F as x,s as L,t as q,v as f,T as C,x as $,y as b,z,A as R,B as T,C as Q,D as j,E as Y,G as X,H as _,I as S,J as N,K as E,L as K,M,N as U,O as F,P as D,Q as B,R as P}from"./index-07d41525.js";import{w as G}from"./wxjssdk-9390c5f7.js";import{g as J,a as V}from"./sign-54d406fa.js";import{s as A,h as H}from"./loading-8f47663b.js";const W=e=>(F("data-v-7397ef9e"),e=e(),D(),e),Z={key:0,id:"mm",class:"scene-layer bg-mm"},O=W((()=>m("span",{class:"icon-mm-top"},null,-1))),ee=W((()=>m("span",{class:"icon-mm-bottom"},null,-1))),se={class:"mm-main"},le=W((()=>m("span",{class:"icon-mm-title"},null,-1))),ae=W((()=>m("span",{class:"icon-reserved"},null,-1))),te={key:0,id:"game",class:"scene-layer"},ne={class:"game-bg-wrap",id:"game-bg-wrap"},ie={class:"bg-game"},de=["onClick"],oe={key:0,class:"icon-arrow"},ue={key:1,class:"icon-lock"},ce=W((()=>m("div",{class:"bg-game-left"},null,-1))),re=W((()=>m("div",{class:"bg-game-right"},null,-1))),pe={class:"topbar-left"},Ie={class:"game-role-img"},ve=["src"],me={class:"game-btn-list"},ge={key:1,id:"map",class:"scene-layer"},ye=["onClick"],ke={class:"topbar-left"},we={class:"topbar-right"},he={class:"question-title"},xe={class:"question-word"},Le=W((()=>m("span",{class:"icon-question-tips"},null,-1))),qe=["onClick"],fe={key:3,id:"map-game",class:"scene-layer"},Ce=["onClick"],$e={key:1,class:"map-game-2"},be={key:0,class:"question-2-g-2-1"},ze={class:"question-2-timer"},Re={class:"question-2-random-list"},Te={key:1,class:"question-2-g-2-2"},Qe={class:"question-2-show-list"},je={key:0},Ye={class:"question-2-select-list"},Xe={key:2,class:"map-game-3"},_e={class:"item-list"},Se=["onClick"],Ne=["onClick"],Ee={key:3,class:"map-game-4"},Ke=W((()=>m("span",{class:"question-4-g-5"},null,-1))),Me={class:"item-list"},Ue={class:"item-list-box"},Fe=["onClick"],De={class:"question-4-g-count"},Be={key:4,class:"map-game-5"},Pe={class:"question-5-g-1"},Ge=["onClick"],Je={id:"page-dialogs"},Ve={class:"bg-lottery"},Ae={class:"bg-lottery-main"},He=["onClick"],We={class:"item-img"},Ze={key:0,class:"count"},Oe={class:"bg-lottery-npc"},es={key:0,class:"lottery-question icon-q-content"},ss=W((()=>m("div",{class:"icon-lottery-question-title"},null,-1))),ls={class:"lottery-question-word"},as={class:"topbar-left"},ts={class:"lottery-count"},ns={key:0,class:"dialogs-lottery"},is={key:0,class:"collect-sure"},ds={key:1,class:"prize-wrap"},os=["src"],us=W((()=>m("i",{class:"icon-prize-save-tips"},null,-1))),cs={key:0,class:"dialogs-rule"},rs={key:0,class:"dialogs-task"},ps={class:"bg-task"},Is={class:"task-list"},vs={class:"icon-task-1"},ms={class:"icon-task-2"},gs={class:"icon-task-3"},ys={class:"task-text"},ks={key:1,class:"icon-task-get-2"},ws={class:"icon-task-4"},hs={class:"task-text"},xs={key:1,class:"icon-task-get-2"},Ls={class:"icon-task-5"},qs={key:0,class:"dialogs-record"},fs={class:"record-info"},Cs={class:"bg-record-info"},$s=["src"],bs=["src"],zs=["src"],Rs={class:"record-list"},Ts=["onClick"],Qs=["src"],js=["src"],Ys=["src"],Xs={key:1,class:"empty scene-layer"},_s={key:0,class:"icon-date-get"},Ss=W((()=>m("div",{class:"bg-date-2"},null,-1))),Ns={key:0,class:"dialogs-address"},Es={class:"bg-address"},Ks=[W((()=>m("div",{class:"icon-share"},null,-1)))],Ms={key:0,class:"dialogs-black-list"},Us=W((()=>m("br",null,null,-1))),Fs={key:0,id:"audio-list"},Ds=["id","src","loop"],Bs=e(s({name:"20260123",setup(e){var s;let F,D,W,Bs="https://cpe-oss-h5.oss-cn-shenzhen.aliyuncs.com/h5/20260123/image-v2";const{proxy:Ps}=B();let Gs=new G({});const Js=l();let Vs="",As=["localhost"].includes(location.hostname);const Hs=(null==(s=Js.params)?void 0:s.userInfo)??{};W=(null==Hs?void 0:Hs.unionid)??"";const Ws=a(!["localhost"].includes(location.hostname)||["localhost"].includes(location.hostname)&&t()),Zs=a(!1),Os=a(!1),el=a(n(1200,!Ws.value)),sl=a(n(1200,!Ws.value)),ll=a(n(1400,!Ws.value)),al=a("mm"),tl=a(As?"":"rule"),nl=a(!1),il=a(!1),dl=a(0),ol=a([]),ul=a(!1),cl=a(null),rl=a(1),pl=a(!0),Il=a(!1),vl=a(1),ml=a(0),gl=a(!1),yl=a({phone:"",name:"",address:""}),kl=a({}),wl=a({}),hl=a({});let xl=!1;const Ll=i({volume:!1,audioList:[{name:"bgm",src:`${Bs}/audio/bgm.mp3`,loop:!0},{name:"click",src:`${Bs}/audio/click.mp3`,loop:!1},{name:"collect",src:`${Bs}/audio/collect.mp3`,loop:!1}]});let ql=a({gameEntry:[{id:1,width:1600,height:130,top:110,left:0},{id:2,width:1600,height:215,top:305,left:0},{id:3,width:1600,height:200,top:520,left:0},{id:4,width:1600,height:230,top:810,left:0,new:1}],mapConfig:{map_1:{mapId:1,roleX:500,roleY:100,npcList:[{npcId:1,x:873,y:317,width:150,height:120,roleX:700,roleY:350,tips:1,questionId:1},{npcId:2,x:382,y:406,width:180,height:150,roleX:491,roleY:541,tips:2,questionId:4},{npcId:3,x:1150,y:420,width:180,height:180,roleX:1e3,roleY:450,tips:3,questionId:7},{npcId:4,x:873,y:317,width:150,height:120,roleX:700,roleY:350,tips:4,questionId:5},{npcId:5,x:900,y:40,width:450,height:150,roleX:1e3,roleY:150,tips:5,gameId:1,nextRoleId:6,tipsClass:"center"},{npcId:6,x:873,y:317,width:150,height:120,roleX:700,roleY:350,tips:6,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1},{answerId:2,nextQuestionId:3,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:3}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:2}]},{questionId:7,npcId:3,imgId:3,answerList:[{answerId:1,nextRoleId:4}]},{questionId:4,npcId:4,imgId:2,answerList:[{answerId:1,nextRoleId:4}]},{questionId:7,npcId:3,imgId:3,answerList:[{answerId:1,nextRoleId:4}]},{questionId:5,npcId:4,imgId:1,answerList:[{answerId:1,nextRoleId:5}]},{questionId:6,npcId:6,imgId:1,answerList:[{answerId:1,isCollect:1}]}]},map_2:{mapId:2,roleX:400,roleY:550,npcList:[{npcId:1,x:450,y:260,width:170,height:150,roleX:450,roleY:400,tips:1,questionId:1},{npcId:2,x:990,y:270,width:170,height:150,roleX:940,roleY:410,tips:2,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1},{answerId:2,nextQuestionId:5,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:1,gameId:1}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,isCollect:1}]},{questionId:4,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:1,gameId:1},{answerId:2,nextRoleId:1,nextQuestionId:5}]},{questionId:5,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:2}]},{questionId:6,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,nextQuestionId:7}]},{questionId:7,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,nextQuestionId:9},{answerId:2,nextRoleId:2,nextQuestionId:8}]},{questionId:8,npcId:2,imgId:2,answerList:[{answerId:1,end:1}]},{questionId:9,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:2}]},{questionId:10,npcId:2,imgId:2,answerList:[{answerId:1,isCollect:1}]},{questionId:11,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:2},{answerId:2,nextRoleId:2,nextQuestionId:8}]}]},map_3:{mapId:1,roleX:550,roleY:450,npcList:[{npcId:1,x:1050,y:317,width:150,height:120,roleX:900,roleY:337,tips:1,questionId:1},{npcId:2,x:456,y:223,width:150,height:120,roleX:620,roleY:180,tips:2,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:3,nextRoleId:1}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:5,nextRoleId:1},{answerId:2,nextQuestionId:4,nextRoleId:1},{answerId:3,nextQuestionId:4,nextRoleId:1},{answerId:4,nextQuestionId:4,nextRoleId:1},{answerId:5,nextQuestionId:4,nextRoleId:1}]},{questionId:4,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:3,nextRoleId:1}]},{questionId:5,npcId:1,imgId:1,answerList:[{answerId:1,isCollect:1}]},{questionId:6,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:2}]},{questionId:7,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:8,nextRoleId:2}]},{questionId:8,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:9,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:3}]},{questionId:10,npcId:2,imgId:2,answerList:[{answerId:1,isCollect:1}]},{questionId:11,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:12,nextRoleId:2}]},{questionId:12,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:3}]}]},map_4:{mapId:4,roleX:1100,roleY:280,roleScale:.7,npcList:[{npcId:1,x:510,y:220,width:200,height:120,roleX:690,roleY:320,tips:1,questionId:1},{npcId:2,x:950,y:530,width:120,height:120,roleX:820,roleY:540,tips:2,questionId:7}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1}]},{questionId:2,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:3,nextRoleId:1}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1}]},{questionId:4,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:5,nextRoleId:1},{answerId:2,nextQuestionId:6,nextRoleId:1},{answerId:3,nextQuestionId:5,nextRoleId:1},{answerId:4,nextQuestionId:5,nextRoleId:1}]},{questionId:5,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1}]},{questionId:6,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:2}]},{questionId:7,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:8,nextRoleId:2}]},{questionId:8,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:9,npcId:2,imgId:3,answerList:[{answerId:1,gameId:4,nextRoleId:2}]},{questionId:10,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:11,npcId:2,imgId:3,answerList:[{answerId:1,isCollect:1}]}]},map_5:{mapId:5,roleX:320,roleY:370,roleScale:.9,npcList:[{npcId:1,x:1150,y:320,width:130,height:120,roleX:1e3,roleY:350,tips:1,questionId:1},{npcId:2,x:690,y:430,width:150,height:170,roleX:550,roleY:485,tips:2,questionId:3},{npcId:3,x:1150,y:320,width:130,height:120,roleX:1e3,roleY:350,tips:3,questionId:5},{npcId:4,x:690,y:430,width:150,height:170,roleX:550,roleY:485,tips:4,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:2}]},{questionId:3,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:2}]},{questionId:4,npcId:3,imgId:1,answerList:[{answerId:1,nextRoleId:3}]},{questionId:5,npcId:3,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:4}]},{questionId:6,npcId:4,imgId:2,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:4}]},{questionId:7,npcId:4,imgId:3,answerList:[{answerId:1,gameId:5,nextRoleId:4}]},{questionId:8,npcId:4,imgId:3,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:4}]},{questionId:9,npcId:4,imgId:3,answerList:[{answerId:1,isCollect:1}]}]}},lottery:[[{id:3,name:"奇迹珍珠",prize:[5],ramdon:[8]},{id:7,name:"仅供食用",disabled:1},{id:1,name:"奇迹晶石",prize:[3],ramdon:[20]}],[{id:4,name:"碎纸片",prize:[2],ramdon:[100],imgIdList:["p-2.jpg","p-3.jpg"]},{id:5,name:"？？？？",prize:[1],ramdon:[0]},{id:8,name:"仅供食用",disabled:1}],[{id:2,name:"地心传言",prize:[1],ramdon:[100],imgIdList:["0129-1.jpg","0129-2.jpg","0129-3.jpg","0129-4.jpg","0129-5.jpg","0129-6.jpg","0129-7.jpg","0129-8.jpg","0129-9.jpg","0129-10.jpg","0130-1.jpg","0130-2.jpg","0130-3.jpg","0130-4.jpg","0130-5.jpg","0130-6.jpg","0130-7.jpg","0130-8.jpg","0130-9.jpg","0130-10.jpg"]},{id:9,name:"仅供食用",disabled:1},{id:6,name:"奇迹矿石",prize:[5],ramdon:[10]}]],whiteList:["ofN_u6nBbWm3k8KmgyWetjEKIGaE","ofN_u6kSinBv-J6VPcZevtbsM6HE","ofN_u6ponYvCCD-jdiZucJKTyI-g"]});d(dl,(e=>{Cl()}));const fl=o((()=>ql.value.whiteList.includes(W))),Cl=()=>{rl.value=1,cl.value=null,vl.value=1,Il.value=!1},$l=o((()=>{let e=0,s=null,l=0,a=[],t=0,n=0,i=Os.value?5:0,d=0,o=0,u=[],c=[],r=[],p=0,I=[],v=[0,0,0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[];fl.value&&(m=[0,99,99,99,99,0,0,0,0,0,0,0,0,0,0]),ol.value.map((p=>{const{addTime:y}=p,k=P(y);if(p.extra){const{type:w=""}=p.extra;if(k){if("login"===w&&e++,"date"===w&&t++,"share"===w&&d++,"play-egg"===w&&o++,"collect"===w&&(r.push(p),m[p.extra.collectType]++),w.startsWith("map-")){const{mapId:e=0,npcId:s=0}=p.extra;e&&("map-npc"===w&&(u.includes(100*e+s)||u.push(100*e+s)),"map-entry"===w&&(c.includes(e)||c.push(e)))}"lottery"!==w||p.extra.useSystemSend||n--}if("selectRole"===w&&(s=p.extra.roleId),"play"===w&&l++,"lottery"===w){p.extra.useSystemSend&&i--;const{extra:e}=p,{prizeId:s=0,collectType:l=0,prizeImgId:a=0}=e;s&&([1,2].includes(s)&&I.some((e=>e.prizeId===s&&e.prizeImgId===a))||I.push(e),[3,4,5].includes(s)&&g.push(e),v.length>s+1&&v[s]++),l&&(m[l]--,m[l]<=0&&(m[l]=0))}if("date"===w){a.push("01-23");const e=y.split(" ")[0].split("2026-")[1];e&&!a.includes(e)&&a.push(e)}"invalid-timestamp"===w&&(gl.value=!0)}})),d&&n++,t&&n++,o&&n++,u.length>=3&&n++,c.length>=2&&n++,n=n>5?5:n,n=n<0?0:n,i=i<=0?0:i,p=n+i,p=p<0?0:p,I.sort(((e,s)=>[3,4,5].includes(e.prizeId)&&![3,4,5].includes(s.prizeId)?-1:![3,4,5].includes(e.prizeId)&&[3,4,5].includes(s.prizeId)?1:0));return{loginToday:e,roleId:s,playCount:l,dateList:a,dateToday:t,canLotteryToday:n,shareToday:d,playEggToday:o,mapNpcToday:u,entryMapListToday:c,collectTodayList:r,canLotterySystemSend:i,canLotteryTodayFinally:p,collectCountList:m,prizeList:I,sercialPrize:g,prizeCount:v}})),bl=o((()=>{let e=ql.value.mapConfig[`map_${dl.value}`],s=e.roleX,l=e.roleY,a=null;if(cl.value){let a=e.npcList.find((e=>e.npcId===cl.value));a&&(s=a.roleX,l=a.roleY)}if(vl.value){let s=e.questionList.find((e=>e.questionId===vl.value));s&&(a=s)}return{...e,roleX:s,roleY:l,question:a}})),zl=async(e="")=>{var s;if(["lottery-empty","lottery-prize","lottery-prize-youku","lottery-prize-5"].includes(tl.value))return kl.value.lotteryFinish=0,kl.value.tipsId=0,kl.value.prizeId=0,kl.value.prizeImgId="",kl.value.code=null,Sl(""),void Sl(e);if(Zs.value)return;let l=0,a="",t=null;const{selectId:n}=kl.value,i={type:"lottery",collectType:n};try{Zs.value=!0,kl.value.lotteryFinish=0,A("检验中...",90);const{canLotterySystemSend:e,sercialPrize:d=[]}=$l.value;e>0&&(i.useSystemSend=1);const o=Xl(n),{imgIdList:u=null,ramdon:c=null,prize:r=null}=o;if(null==u?void 0:u.length){const e=u[Q(0,u.length-1)];i.prizeImgId=e,a=e,l=o.prize[0]}else{let e=-1;if(0===d.length&&(null==c?void 0:c.length)&&(null==r?void 0:r.length)){const s=100*Q(0,100);for(let l=0;l<c.length;l++){if(s<c[l]){e=l;break}}fl.value&&(e=0)}if(-1!==e){const a=r[e],n=await Dl(a);if(null==n?void 0:n.length){const e=n[Q(0,n.length-1)],d=(null==(s=null==e?void 0:e.extra)?void 0:s.code)??null;d&&(t=d,i.code=d),Bl(e.id),l=a}else l=0}}i.prizeId=l,Fl(i)}catch(d){}finally{Zs.value=!1,H()}if(kl.value.prizeId=l,kl.value.lotteryFinish=1,kl.value.prizeImgId=a,kl.value.code=t,l){kl.value.tipsId=2;let e="lottery-prize";3===l&&(e="lottery-prize-youku"),5===l&&(e="lottery-prize-5"),Sl(e)}else kl.value.tipsId=3,Sl("")},Rl=e=>{const{collectTodayList:s}=$l.value;if(s.length<5){Jl("collect");const e=100*Math.random();let s=2;e<40&&(s=4),e<30&&(s=1),e<15&&(s=3),e<10&&(s=6),tl.value=`collect-${s}`,Fl({type:"collect",mapId:dl.value,collectType:s})}else tl.value="collect-max"},Tl=e=>{if(Jl("click"),"close"===e)return void(dl.value=0);if("collect"===e)return tl.value="",2===dl.value&&3===vl.value?(vl.value=5,void(Il.value=!0)):3===dl.value&&5===vl.value?(Il.value=!1,void(rl.value=2)):void Cl();if(ul.value)return;const{questionId:s,gameId:l}=e;let a=600;cl.value===e.npcId&&(a=0),a&&(ul.value=!0,cl.value=e.npcId),setTimeout((()=>{if(s&&(vl.value=s,Il.value=!0),l){const{nextRoleId:s}=e;1===l&&(rl.value=s,Kl())}ul.value=!1,Fl({type:"map-npc",mapId:dl.value,npcId:e.npcId})}),a)};let Ql=null;const jl=(e=0)=>{if(Il.value=!1,1===e)hl.value={gameId:e,random:Q(1,3),selectList:[0,0,0]};else if(2===e){if(Ql)return;const e=Array.from({length:6},(()=>Q(1,3)));hl.value={gameId:2,timer:5,randomList:e,selectList:[]},Ql=setInterval((()=>{hl.value.timer--,hl.value.timer<=0&&(clearInterval(Ql),Ql=null)}),1e3)}else if(3===e)hl.value={gameId:e,selectList:[0,0,0,0]};else if(4===e){if(Ql)return;const e=[],s=[];for(let l=0;l<60;l++)e.push(l<30?1:2),s.push(0);e.sort((()=>Math.random()-.5)),hl.value={gameId:4,randomList:e,selectList:s,timer:18,targetScore:20},Ql=setInterval((()=>{hl.value.timer--,hl.value.timer<=0&&(clearInterval(Ql),Ql=null,Yl())}),1e3)}else 5===e&&(hl.value={gameId:e,selectList:[0,0,0,0,0,0,0],targetScore:3})},Yl=()=>{const{gameId:e}=hl.value;let s=0;if(1===e){const{selectList:e}=hl.value;e.every((e=>1===e))&&(s=1),vl.value=s?3:4}else if(2===e){const{selectList:e,randomList:l}=hl.value;e.slice(0,6).join("")===l.join("")&&(s=1),vl.value=s?10:11}else if(3===e){const{selectList:e}=hl.value;"0001"===e.map((e=>e?"1":"0")).join("")&&(s=1),vl.value=s?10:11}else if(4===e){const{selectList:e}=hl.value;e.filter((e=>1===e)).length>=hl.value.targetScore&&(s=1),vl.value=s?11:10}else if(5===e){const{selectList:e}=hl.value;e.filter((e=>1===e)).length>=hl.value.targetScore&&(s=1),vl.value=s?9:8}Fl({type:"map-game",mapId:dl.value,gameId:e,gameSuccess:s}),hl.value={},Il.value=!0},Xl=e=>{var s;let l={};return null==(s=ql.value.lottery)||s.map((s=>{s.map((s=>{s.id===e&&(l={...s})}))})),l},_l=a(!1),Sl=e=>{if("address"!==e){if("lottery"===e)return il.value=!0,kl.value={tipsId:1},void Jl("click");"date"===e&&($l.value.dateToday||Fl({type:"date"}),Jl("click")),!wl.value.prizeId&&"record"===e&&$l.value.prizeList.length&&(wl.value={...$l.value.prizeList[0]}),tl.value=e,e&&Jl("click")}else _l.value=!0},Nl=(e,s="")=>{if("look"!==s)"address"!==s?wl.value={...e}:Pl.value?Gl("你已提交过信息"):Sl("address");else{let e=`${Bs}/w/${wl.value.prizeImgId}`;Ul(e)}},El=e=>{Zs.value||(1===e?(nl.value=!0,Zs.value=!0,setTimeout((()=>{Zs.value=!1,Fl({type:"share"})}),3e3)):2===e?Sl("date"):5===e&&Kl())},Kl=()=>{xl=!0,j.push({path:"/20251002-v2",query:{showBackBtn:1}})},Ml=e=>{const s=`${e[1]}`;Y(s),Gl("复制成功")},Ul=e=>{"youku"===e&&(e=`${Bs}/w/youku.png`),Gs.onSaveImage(e).then((e=>{Gl(e)})).catch((e=>{Gl(e)}))},Fl=(e={},s=!0)=>{var l;(null==(l=null==$l?void 0:$l.value)?void 0:l.roleId)&&!e.roleId&&(e.roleId=$l.value.roleId);const a=Q(0,1e3),t=Q(0,20);let n=J({k:Vs,unionid:W,score:a,level:t});const i=(new Date).getTime();X({ownerUnionid:W,activityKey:F,gameScore:a,levelNum:t,playTime:i,extra:e,k:Vs,s:n});const d={addTime:_(i),extra:{...e}};return s&&ol.value.push(d),d};const Dl=async(e,s=!1)=>new Promise((s=>{S({activityKey:"20260123-code",periodNum:D,ownerUnionid:"ofN_u6o0InL3IJ_Asp3qp8MIlxH4"}).then((({code:l,data:a})=>{if(0===l){let l=[];a.map((s=>{var a;(new Date).getTime()>=new Date(s.addTime).getTime()&&1===s.status&&(null==(a=s.extra)?void 0:a.prizeId)===e&&l.push(s)})),s(l)}})).catch((e=>{s([])}))})),Bl=e=>{let s=V({k:Vs,unionid:W,id:e});K({ownerUnionid:W,id:e,status:0,k:Vs,s:s})},Pl=a(!1),Gl=e=>{Ps.$Message.success(e,3)},Jl=(e,s=!1)=>{U(Ll,e,s)};u((async()=>{var e,s;A("加载中...",Ws?90:0),F=(null==(e=Js.meta)?void 0:e.activityKey)??"20260123",D=(null==(s=Js.meta)?void 0:s.periodNum)??1,c({activityKey:F}).then((async({code:e,data:s})=>{0===e&&(Vs=s.k,s.extra,(async()=>{Zs.value=!0,S({activityKey:F,periodNum:D,ownerUnionid:W}).then((({code:e,data:s})=>{0===e&&s?(s.length&&s.sort(((e,s)=>s.id-e.id)),ol.value=s,Os.value=!0,N((()=>{$l.value.loginToday||Fl({type:"login"})}))):Gl("获取记录异常,请刷新后再试")})).finally((()=>{Zs.value=!1,H()})),E({unionid:W,activityKey:F,periodNum:D}).then((({code:e,data:s})=>{(null==s?void 0:s.name)&&(Pl.value=!0)}))})())})),Gs.ready((()=>{var e,s,l;Jl("bgm",!0),Vl(),Gs.updateShareData({title:(null==(e=Js.meta)?void 0:e.title)??"",desc:(null==(s=Js.meta)?void 0:s.desc)??"",link:location.origin+Js.path,imgUrl:(null==(l=Js.meta)?void 0:l.imgUrl)??""}),document.addEventListener("visibilitychange",(e=>{document.hidden?r():Ll.volume&&Jl("bgm",!0)}))}))}));const Vl=()=>{Gs.timestamp?Math.abs((new Date).getTime()-Gs.timestamp)>6e5&&(gl.value=!0,Fl({type:"invalid-timestamp"})):setTimeout((()=>{Vl()}),1e3)};return p((()=>{xl&&(xl=!1,(null==window?void 0:window.playEggGame)&&(window.playEggGame=!1,Fl({type:"play-egg"})))})),(e,s)=>{var l,a;return I(),v(x,null,[m("div",{id:"page-20260123",class:y({m:Ws.value})},["mm"==al.value?(I(),v("div",Z,[O,ee,m("div",se,[le,m("span",{class:"btn-start",onClick:s[0]||(s[0]=g((e=>($l.value.roleId||Fl({type:"selectRole",roleId:Q(1,6)}),al.value="game",setTimeout((()=>{var e;null==(e=document.getElementById("game-bg-wrap"))||e.scrollTo({top:2e3,behavior:"smooth"}),Sl("tips-map-4")}),300),void Jl("click"))),["stop"]))})]),m("span",{class:"btn btn-rule",onClick:s[1]||(s[1]=g((e=>Sl("rule")),["stop"]))}),m("span",{class:y(["btn btn-music",[{active:Ll.volume}]]),onClick:s[2]||(s[2]=e=>Jl("bgm",!0))},null,2),ae])):k("",!0),w(C,{name:"fade"},{default:h((()=>["game"==al.value?(I(),v("div",te,[m("div",ne,[m("div",ie,[(I(!0),v(x,null,L(f(ql).gameEntry,(e=>(I(),v("div",{key:e.id,class:"game-entry",onClick:g((s=>(e=>{const{id:s=null,lock:l=0}=e;(!l&&s||fl.value)&&(dl.value=fl.value?5:s,pl.value=!1,Fl({type:"map-entry",mapId:s}),Jl("click"))})(e)),["stop"]),style:q(`width:${e.width}px;height:${e.height}px;margin-top:${e.top}px;margin-left:${e.left}px;`)},[pl.value&&e.new?(I(),v("span",oe)):k("",!0),e.lock?(I(),v("span",ue)):k("",!0)],12,de)))),128))])]),ce,re,m("div",pe,[m("span",{class:y(["btn-music",[{active:Ll.volume}]]),onClick:s[3]||(s[3]=e=>Jl("bgm",!0))},null,2),m("span",{class:"btn-rule",onClick:s[4]||(s[4]=g((e=>Sl("rule")),["stop"]))})]),m("span",Ie,[$l.value.roleId?(I(),v("img",{key:0,src:`${f(Bs)}/icon/role/${$l.value.roleId}.png`},null,8,ve)):k("",!0)]),m("div",me,[m("span",{class:"btn-task",onClick:s[5]||(s[5]=g((e=>Sl("task")),["stop"]))}),m("span",{class:"btn-record",onClick:s[6]||(s[6]=g((e=>Sl("record")),["stop"]))}),m("span",{class:"btn-lottery",onClick:s[7]||(s[7]=g((e=>Sl("lottery")),["stop"]))}),m("span",{class:"btn-date",onClick:s[8]||(s[8]=g((e=>Sl("date")),["stop"]))})])])):k("",!0)])),_:1}),"game"==al.value&&dl.value>0?(I(),v("div",ge,[m("div",{class:y(["map-bg",`bg-map-${dl.value}-0`])},null,2),m("div",{class:y(["map-road",`bg-map-${dl.value}-1`]),style:q(`scale:${sl.value}`)},[m("span",{class:y(["map-role",`role-${$l.value.roleId}`]),style:q(`left:${bl.value.roleX}px;top:${bl.value.roleY}px;scale:${bl.value.roleScale||1}`)},null,6),(I(!0),v(x,null,L(bl.value.npcList,(e=>(I(),v(x,{key:`npc-${e.npcId}`},[e.tips===rl.value?(I(),v("span",{key:0,onClick:g((s=>Tl(e)),["stop"]),class:"map-npc",style:q(`left:${e.x}px;top:${e.y}px;width:${e.width}px;height:${e.height}px`)},[m("span",{class:y(["icon-map-tips",`${e.tipsClass||""}`])},null,2)],12,ye)):k("",!0)],64)))),128))],6),m("div",ke,[m("span",{class:y(["btn-music",[{active:Ll.volume}]]),onClick:s[9]||(s[9]=e=>Jl("bgm",!0))},null,2),m("span",{class:"btn-rule",onClick:s[10]||(s[10]=g((e=>Sl("rule")),["stop"]))}),m("span",{class:"btn-back",onClick:s[11]||(s[11]=g((e=>Tl("close")),["stop"]))})]),m("div",we,[m("span",{class:"btn-lottery2",onClick:s[12]||(s[12]=g((e=>Sl("lottery")),["stop"]))}),m("span",{class:"btn-record2",onClick:s[13]||(s[13]=g((e=>Sl("record")),["stop"]))})])])):k("",!0),Il.value?(I(),v("div",{key:2,id:"question",class:"scene-layer",onClick:s[16]||(s[16]=g((e=>Il.value=!1),["self"]))},[m("div",{class:"question-role-wrap",style:q(`scale:${ll.value}`),onClick:s[14]||(s[14]=g((e=>Il.value=!1),["self"]))},[m("div",{class:y(["question-role",`question-${dl.value}-r-${bl.value.question.imgId}`])},null,2),m("div",{class:y(["question-content icon-q-content",`content-${dl.value}-${bl.value.question.questionId}`])},[m("div",he,[m("span",{class:y(`question-${dl.value}-t-${bl.value.question.imgId}`)},null,2)]),m("div",xe,[m("span",{class:y(`question-${dl.value}-q-${bl.value.question.questionId}`)},null,2),Le])],2)],4),m("div",{class:y(["question-answer-wrap",`question-${dl.value}-answer-wrap-${bl.value.question.questionId}`]),onClick:s[15]||(s[15]=g((e=>Il.value=!1),["self"]))},[(I(!0),v(x,null,L((null==(l=bl.value.question)?void 0:l.answerList)??[],(e=>(I(),v("span",{class:"question-answer-item-wrap",onClick:s=>(e=>{if(Zs.value)return;const{answerId:s,nextQuestionId:l,nextRoleId:a,isCollect:t,gameId:n,end:i}=e;i?Cl():(Fl({type:"map-answer",mapId:dl.value,npcId:cl.value,questionId:vl.value,answerId:s}),ml.value=s,Jl("click"),Zs.value=!0,setTimeout((()=>{Zs.value=!1,ml.value=0,a===cl.value?l?vl.value=l:n?jl(n):t&&(Il.value=!1,Rl()):(Il.value=!1,a&&(rl.value=a),t&&Rl())}),300))})(e),key:e.answerId},[m("span",{class:y(`question-${dl.value}-a-${vl.value}-${e.answerId}-${ml.value&&ml.value===e.answerId?1:0}`)},null,2)],8,qe)))),128))],2)])):k("",!0),(null==(a=hl.value)?void 0:a.gameId)?(I(),v("div",fe,[1===hl.value.gameId?(I(),v("div",{key:0,class:y(["map-game-1",`question-2-g-${hl.value.gameId}-${hl.value.random}`])},[m("div",{class:y(`map-game-${hl.value.random}`)},[(I(!0),v(x,null,L(hl.value.selectList,((e,s)=>(I(),v("span",{key:`question-2-g-find-${s}`,class:y(["question-2-g-find",[`p-${hl.value.random}-${s+1}`,{find:e}]]),onClick:g((e=>hl.value.selectList[s]=1),["self"])},null,10,Ce)))),128))],2),m("span",{class:"game-close",onClick:s[17]||(s[17]=g((e=>Yl()),["stop"]))}),m("span",{class:"game-submit",onClick:s[18]||(s[18]=g((e=>Yl()),["stop"]))})],2)):k("",!0),2===hl.value.gameId?(I(),v("div",$e,[hl.value.timer>0?(I(),v("div",be,[m("span",ze,"00 : "+$(hl.value.timer<10?"0":"")+$(hl.value.timer),1),m("div",Re,[(I(!0),v(x,null,L(hl.value.randomList,((e,s)=>(I(),v("span",{key:`question-2-item-list-${s}`,class:y(`question-2-icon-${e}`)},null,2)))),128))])])):(I(),v("div",Te,[m("div",Qe,[(I(!0),v(x,null,L(hl.value.selectList,((e,s)=>(I(),v(x,{key:`question-2-show-list-${s}`},[s<6?(I(),v("span",je,[m("i",{class:y(`question-2-icon-${e}`)},null,2)])):k("",!0)],64)))),128))]),m("div",Ye,[m("span",{class:"item-1",onClick:s[19]||(s[19]=e=>hl.value.selectList.push(1))}),m("span",{class:"item-2",onClick:s[20]||(s[20]=e=>hl.value.selectList.push(2))}),m("span",{class:"item-3",onClick:s[21]||(s[21]=e=>hl.value.selectList.push(3))})]),m("span",{class:"game-close",onClick:s[22]||(s[22]=g((e=>Sl("")),["stop"]))}),m("span",{class:"game-submit",onClick:s[23]||(s[23]=g((e=>Yl()),["stop"]))})]))])):k("",!0),3===hl.value.gameId?(I(),v("div",Xe,[m("div",{class:"question-3-g-1",style:q(`scale:${el.value}`)},[m("div",_e,[(I(!0),v(x,null,L(hl.value.selectList,((e,s)=>(I(),v("span",{key:`select-${s}`,onClick:g((e=>hl.value.selectList[s]=!hl.value.selectList[s]),["self"])},[hl.value.selectList[s]?(I(),v("i",{key:0,class:"question-3-g-find",onClick:g((e=>hl.value.selectList[s]=!hl.value.selectList[s]),["self"])},null,8,Ne)):k("",!0)],8,Se)))),128))])],4),m("span",{class:"game-close",onClick:s[24]||(s[24]=g((e=>Yl()),["stop"]))}),m("span",{class:"game-submit",onClick:s[25]||(s[25]=g((e=>Yl()),["stop"]))})])):k("",!0),4===hl.value.gameId?(I(),v("div",Ee,[m("div",{class:"question-4-g-1",style:q(`scale:${el.value}`)},[Ke,m("div",Me,[m("div",Ue,[(I(!0),v(x,null,L(hl.value.randomList,((e,s)=>(I(),v("span",{key:`item-list-box-${s}`,class:y("question-4-g-"+(2===e?"3":hl.value.selectList[s]?"4":"2")),onClick:l=>1===e?hl.value.selectList[s]=1:null},null,10,Fe)))),128))])]),m("div",De,"目标分数: "+$(hl.value.selectList.filter((e=>1===e)).length>20?"20":hl.value.selectList.filter((e=>1===e)).length)+" / 20",1)],4),m("span",{class:"game-close",onClick:s[26]||(s[26]=g((e=>Yl()),["stop"]))})])):k("",!0),5===hl.value.gameId?(I(),v("div",Be,[m("div",Pe,[(I(!0),v(x,null,L(hl.value.selectList,((e,s)=>(I(),v("span",{key:`question-5-g-1-${s}`,class:y([`item-${s}`,{find:e}]),onClick:g((e=>hl.value.selectList[s]=1),["self"])},null,10,Ge)))),128))]),m("span",{class:"game-close",onClick:s[27]||(s[27]=g((e=>Yl()),["stop"]))}),m("span",{class:"game-submit",onClick:s[28]||(s[28]=g((e=>Yl()),["stop"]))})])):k("",!0)])):k("",!0),b(m("div",Je,[w(C,{name:"fade"},{default:h((()=>[il.value?(I(),v("div",{key:0,class:"dialogs-lottery",onClick:s[32]||(s[32]=g((e=>{3===kl.value.tipsId&&(kl.value.lotteryFinish=0),kl.value.tipsId&&(kl.value.tipsId=0)}),["stop"]))},[m("div",Ve,[m("div",{class:"lottery-main",style:q(`scale:${ll.value}`)},[m("div",Ae,[(I(!0),v(x,null,L(f(ql).lottery,((e,s)=>(I(),v("div",{class:y(["lottery-row",`row-${s+1}`]),key:`lottery-row-${s}}`},[(I(!0),v(x,null,L(e,((e,l)=>(I(),v("span",{class:"item-box",key:`lottery-row-${s}-${l}`,onClick:s=>(e=>{const{id:s,disabled:l}=e;if(kl.value.tipsId||Zs.value||l)return;const{collectCountList:a,canLotteryTodayFinally:t}=$l.value;a[s]<=0||(t||fl.value?(kl.value.selectId=s,Sl("lottery-sure")):Sl("lottery-empty"))})(e)},[m("span",We,[m("i",{class:y(`icon-${e.id}-${kl.value.selectId===e.id?1:0}`)},null,2),kl.value.lotteryFinish&&kl.value.selectId===e.id?(I(),v("i",{key:0,class:y("icon-lottery-"+(kl.value.prizeId>0?"success":"fail"))},null,2)):k("",!0)]),m("span",{class:y(["item-text",{disabled:e.disabled}])},[R($(e.name)+" ",1),!e.disabled&&$l.value.collectCountList[e.id]>0?(I(),v("i",Ze,"x"+$($l.value.collectCountList[e.id]),1)):k("",!0)],2)],8,He)))),128))],2)))),128))]),m("div",Oe,[kl.value.tipsId?(I(),v("div",es,[ss,m("div",ls,[m("span",{class:y(`icon-lottery-question-${kl.value.tipsId}`)},null,2)])])):k("",!0)])],4),m("div",{class:"bg-lottery-bottom",style:q(`scale:${ll.value}`)},null,4),m("div",as,[m("span",{class:"btn-back",onClick:s[29]||(s[29]=g((e=>il.value=!1),["stop"]))}),m("span",{class:"btn-task2",onClick:s[30]||(s[30]=g((e=>Sl("task")),["stop"]))}),m("span",{class:"btn-record2",onClick:s[31]||(s[31]=g((e=>Sl("record")),["stop"]))})]),m("div",ts," 剩余检验次数："+$($l.value.canLotteryTodayFinally),1)])])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>[tl.value.includes("lottery-")?(I(),v("div",ns,[m("div",{class:y(`bg-${tl.value}`)},["lottery-sure"===tl.value?(I(),v("div",is,[m("span",{class:y(`icon-${kl.value.selectId}-0`)},null,2)])):k("",!0),"lottery-prize"===tl.value?(I(),v("div",ds,[[1,2].includes(kl.value.prizeId)?(I(),v(x,{key:0},[m("img",{src:`${f(Bs)}/w/${kl.value.prizeImgId}`},null,8,os),us],64)):k("",!0)])):k("",!0),"lottery-prize-youku"===tl.value?(I(),v(x,{key:2},[m("div",{class:"prize-youku-wrap",onClick:s[33]||(s[33]=e=>Ml(kl.value.code))},[m("i",null,$(kl.value.code[1]),1)]),m("div",{class:"prize-youku-tips",onClick:s[34]||(s[34]=e=>Ul("youku"))})],64)):k("",!0),m("span",{class:"dialogs-close",onClick:s[35]||(s[35]=g((e=>Sl("")),["stop"]))}),m("span",{class:y(["dialogs-submit",{left:[5].includes(kl.value.prizeId)}]),onClick:s[36]||(s[36]=g((e=>zl()),["stop"]))},null,2),[5].includes(kl.value.prizeId)?(I(),v("span",{key:3,class:"dialogs-right",onClick:s[37]||(s[37]=g((e=>zl("address")),["stop"]))})):k("",!0)],2)])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>["rule"===tl.value?(I(),v("div",cs,[m("div",{class:"bg-rule",style:q(`transform:scale(${el.value})`)},[m("span",{class:"dialogs-submit",onClick:s[38]||(s[38]=g((e=>Sl("")),["stop"]))})],4)])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>["task"===tl.value?(I(),v("div",rs,[m("div",ps,[m("span",{class:y(["task-num",`num-c-${$l.value.canLotteryToday}`])},null,2),m("div",Is,[m("div",vs,[m("span",{class:"task-text",onClick:s[39]||(s[39]=g((e=>El(1)),["stop"]))},[m("i",{class:y("icon-task-get-"+($l.value.shareToday>=1?"2":"1"))},null,2)])]),m("div",ms,[m("span",{class:"task-text",onClick:s[40]||(s[40]=g((e=>El(2)),["stop"]))},[m("i",{class:y("icon-task-get-"+($l.value.dateToday>=1?"2":"1"))},null,2)])]),m("div",gs,[m("span",ys,[$l.value.mapNpcToday.length<3?(I(),v(x,{key:0},[R($($l.value.mapNpcToday.length)+" / 3 ",1)],64)):(I(),v("i",ks))])]),m("div",ws,[m("span",hs,[$l.value.entryMapListToday.length<2?(I(),v(x,{key:0},[R($($l.value.entryMapListToday.length)+" / 2 ",1)],64)):(I(),v("i",xs))])]),m("div",Ls,[m("span",{class:"task-text",onClick:s[41]||(s[41]=g((e=>El(5)),["stop"]))},[m("i",{class:y("icon-task-get-"+($l.value.playEggToday>=1?"2":"1"))},null,2)])])]),m("span",{class:"dialogs-close",onClick:s[42]||(s[42]=g((e=>Sl("")),["stop"]))})])])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>{var e;return["record"===tl.value?(I(),v("div",qs,[m("div",{class:"bg-record",style:q(`transform:scale(${el.value})`)},[(null==(e=$l.value.prizeList)?void 0:e.length)?(I(),v(x,{key:0},[m("div",fs,[m("div",Cs,[wl.value.prizeImgId?(I(),v("img",{key:0,src:`${f(Bs)}/w/${wl.value.prizeImgId}`},null,8,$s)):k("",!0),5===wl.value.prizeId?(I(),v("img",{key:1,src:`${f(Bs)}/icon/prize-5.png`},null,8,bs)):k("",!0),3===wl.value.prizeId?(I(),v("img",{key:2,src:`${f(Bs)}/w/youku.png`,onClick:s[43]||(s[43]=e=>Ul("youku"))},null,8,zs)):k("",!0)]),wl.value.prizeImgId?(I(),v("span",{key:0,class:"btn-look",onClick:s[44]||(s[44]=g((e=>Nl(wl.value,"look")),["stop"]))})):k("",!0),5===wl.value.prizeId?(I(),v("span",{key:1,class:"btn-address",onClick:s[45]||(s[45]=g((e=>Nl(wl.value,"address")),["stop"]))})):k("",!0),3===wl.value.prizeId?(I(),v("span",{key:2,class:"code-list",onClick:s[46]||(s[46]=e=>Ml(wl.value.code))},[m("i",null," 点击复制兑换码："+$(wl.value.code[1]),1)])):k("",!0)]),m("div",Rs,[(I(!0),v(x,null,L($l.value.prizeList,((e,s)=>(I(),v("span",{key:`record-item-${s}`,class:"bg-record-item",onClick:g((s=>Nl(e)),["stop"])},[e.prizeImgId?(I(),v("img",{key:0,src:`${f(Bs)}/w/${e.prizeImgId}`},null,8,Qs)):k("",!0),3===e.prizeId?(I(),v("img",{key:1,src:`${f(Bs)}/icon/youku.png`},null,8,js)):k("",!0),5===e.prizeId?(I(),v("img",{key:2,src:`${f(Bs)}/icon/prize-5.png`},null,8,Ys)):k("",!0)],8,Ts)))),128))])],64)):(I(),v("div",Xs,"暂无数据")),m("span",{class:"dialogs-close",onClick:s[47]||(s[47]=g((e=>{Sl(""),wl.value={}}),["stop"]))})],4)])):k("",!0)]})),_:1}),w(C,{name:"fade"},{default:h((()=>["date"===tl.value?(I(),v("div",{key:0,class:"dialogs-date",onClick:s[48]||(s[48]=g((e=>Sl("")),["stop"]))},[m("div",{class:"bg-date-1",style:q(`transform:scale(${f(n)(1100)})`)},[(I(),v(x,null,L([["01-18","01-19","01-20","01-21","01-22","01-23","01-24"],["01-25","01-26","01-27","01-28","01-29","01-30","01-31"],["02-01","02-02","02-03","02-04","02-05","02-06","02-07  "]],((e,s)=>m("div",{class:y(["active-row",`row-${s+1}`])},[(I(!0),v(x,null,L(e,(e=>(I(),v("span",{key:`row-${s}-${e}`,class:y(["icon-date-active",{active:$l.value.dateList.includes(e)}])},[$l.value.dateList.includes(e)?(I(),v("i",_s)):k("",!0)],2)))),128))],2))),64)),Ss],4)])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>[tl.value.includes("tips-map")?(I(),v("div",{key:0,class:"dialogs-tips-map",onClick:s[49]||(s[49]=g((e=>Sl("")),["stop"]))},[m("div",{class:y(`bg-${tl.value}`),style:q(`scale:${sl.value}`)},null,6)])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>[tl.value.includes("collect-")?(I(),v("div",{key:0,class:"dialogs-collect",onClick:s[50]||(s[50]=g((e=>Tl("collect")),["stop"]))},[m("div",{class:y(`bg-${tl.value}`),style:q(`scale:${sl.value}`)},null,6)])):k("",!0)])),_:1}),w(C,{name:"fade"},{default:h((()=>[_l.value?(I(),v("div",Ns,[m("div",Es,[b(m("input",{class:"address-name","onUpdate:modelValue":s[51]||(s[51]=e=>yl.value.name=e),autocomplete:"off",name:"name"},null,512),[[T,yl.value.name]]),b(m("input",{class:"address-phone","onUpdate:modelValue":s[52]||(s[52]=e=>yl.value.phone=e),autocomplete:"off",name:"phone"},null,512),[[T,yl.value.phone]]),b(m("input",{class:"address-address","onUpdate:modelValue":s[53]||(s[53]=e=>yl.value.address=e),autocomplete:"off",name:"address"},null,512),[[T,yl.value.address]]),m("span",{class:"btn-address-ok",onClick:s[54]||(s[54]=g((e=>(()=>{let{phone:e,name:s,address:l}=yl.value;if(s&&e&&l)if(11==e.length){if(Zs.value)return;Zs.value=!0,A("提交中...",Ws?90:0),M({activityKey:F,periodNum:D,ownerUnionid:W,address:l,name:s,phone:e,extra:{}}).then((()=>{Gl("提交成功"),_l.value=!1,Pl.value=!0})).finally((()=>{Zs.value=!1,H()}))}else Gl("请填写11位手机号码");else Gl("请输入正确的信息")})()),["stop"]))}),m("span",{class:"dialogs-close",onClick:s[55]||(s[55]=g((e=>_l.value=!1),["stop"]))})])])):k("",!0)])),_:1}),nl.value?(I(),v("div",{key:0,class:"dialogs-share",onClick:s[56]||(s[56]=g((e=>nl.value=!1),["stop"]))},Ks)):k("",!0),w(C,{name:"fade"},{default:h((()=>[gl.value?(I(),v("div",Ms,[R(" 客户端时间异常"),Us,R(" 您的账号已被记录数据异常行为，请联系官方处理 ")])):k("",!0)])),_:1})],512),[[z,tl.value||nl.value||il.value||gl.value||_l.value]])],2),Ll.audioList.length?b((I(),v("div",Fs,[(I(!0),v(x,null,L(Ll.audioList,(e=>(I(),v("audio",{id:"audio-item-"+e.name,key:"audio-item-"+e.name,src:e.src,loop:e.loop??!1},null,8,Ds)))),128))],512)),[[z,!1]]):k("",!0)],64)}}}),[["__scopeId","data-v-7397ef9e"]]);export{Bs as default};
