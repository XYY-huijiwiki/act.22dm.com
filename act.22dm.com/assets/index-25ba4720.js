import{_ as e,d as s,u as l,r as a,j as t,k as i,l as n,m as d,q as o,a as u,s as c,x as r,y as p,o as v,c as I,b as m,f as g,n as y,z as k,F as w,A as f,B as x,e as h,t as q,w as L,C,D as $,E as b,G as z,T as R,v as Q,H as T,I as _,g as S,J as X,K as Y,L as N,M as E,N as G,O as j,P as K,Q as M,R as B,S as F,U,V as P,p as D,h as O,W as V,X as W}from"./index-fe9b925b.js";import{w as J}from"./wxjssdk-2170f6b4.js";import{g as A,a as H}from"./sign-629db278.js";import{s as Z,h as ee}from"./loading-073f74b6.js";const se=e=>(D("data-v-4bffe0bd"),e=e(),O(),e),le={key:0,id:"mm",class:"scene-layer bg-mm"},ae=se((()=>m("span",{class:"icon-mm-top"},null,-1))),te=se((()=>m("span",{class:"icon-mm-bottom"},null,-1))),ie={class:"mm-main"},ne=se((()=>m("span",{class:"icon-mm-title"},null,-1))),de=se((()=>m("span",{class:"icon-reserved"},null,-1))),oe={class:"game-bg-wrap",id:"game-bg-wrap"},ue={class:"bg-game"},ce=["onClick"],re={key:0,class:"icon-arrow"},pe={key:1,class:"icon-lock"},ve=se((()=>m("div",{class:"bg-game-left"},null,-1))),Ie=se((()=>m("div",{class:"bg-game-right"},null,-1))),me={class:"topbar-left"},ge={class:"game-btn-list"},ye=se((()=>m("span",{class:"icon-spring-2"},null,-1))),ke=se((()=>m("span",{class:"icon-spring-3"},null,-1))),we={key:0,class:"icon-arrow-2"},fe={class:"game-role-img"},xe=["src"],he={key:2,id:"map",class:"scene-layer"},qe=["onClick"],Le={class:"topbar-left"},Ce={class:"topbar-right"},$e={class:"question-title"},be={class:"question-word"},ze=se((()=>m("span",{class:"icon-question-tips"},null,-1))),Re=["onClick"],Qe={key:4,id:"map-game",class:"scene-layer"},Te=["onClick"],_e={key:1,class:"map-game-2"},Se={key:0,class:"question-2-g-2-1"},Xe={class:"question-2-timer"},Ye={class:"question-2-random-list"},Ne={key:1,class:"question-2-g-2-2"},Ee={class:"question-2-show-list"},Ge={key:0},je={class:"question-2-select-list"},Ke={key:2,class:"map-game-3"},Me={class:"item-list"},Be=["onClick"],Fe=["onClick"],Ue={key:3,class:"map-game-4"},Pe=se((()=>m("span",{class:"question-4-g-5"},null,-1))),De={class:"item-list"},Oe={class:"item-list-box"},Ve=["onClick"],We={class:"question-4-g-count"},Je={key:4,class:"map-game-5"},Ae={class:"question-5-g-1"},He=["onClick"],Ze={key:5,class:"map-game-6"},es=se((()=>m("span",{class:"question-6-g-1-6"},null,-1))),ss={key:0,class:"question-6-g-1-3"},ls=se((()=>m("span",{class:"question-6-g-1-5"},[m("i",{id:"map-game-6-dot"})],-1))),as={class:"text"},ts={class:"text-2"},is={key:6,class:"map-game-7"},ns={class:"question-6-g-2"},ds={class:"title"},os={key:0,class:"question-6-g-2-1"},us=se((()=>m("span",{class:"question-6-g-2-10"},null,-1))),cs={class:"card-list"},rs=["onClick"],ps={class:"text"},vs={id:"page-dialogs"},Is={class:"bg-lottery"},ms={class:"bg-lottery-main"},gs=["onClick"],ys={class:"item-img"},ks={key:0,class:"count"},ws={class:"bg-lottery-npc"},fs={key:0,class:"lottery-question icon-q-content"},xs=se((()=>m("div",{class:"icon-lottery-question-title"},null,-1))),hs={class:"lottery-question-word"},qs=se((()=>m("div",{class:"icon-spring-2"},null,-1))),Ls={class:"topbar-left"},Cs={class:"lottery-count"},$s={key:0,class:"dialogs-lottery"},bs={key:0,class:"collect-sure"},zs={key:0,class:"prize-wrap"},Rs=["src"],Qs=se((()=>m("i",{class:"icon-prize-save-tips"},null,-1))),Ts={key:3,class:"prize-wrap big"},_s=["src"],Ss=se((()=>m("span",{class:"scene-layer"},null,-1))),Xs={key:4,class:"prize-wrap small"},Ys=["src"],Ns={key:0,class:"dialogs-rule"},Es={key:0,class:"dialogs-task"},Gs={class:"bg-task"},js={class:"task-list"},Ks={class:"icon-task-1-2"},Ms={class:"icon-task-2-2"},Bs={class:"icon-task-3"},Fs={class:"task-text"},Us={key:1,class:"icon-task-get-2"},Ps={class:"icon-task-4"},Ds={class:"task-text"},Os={key:1,class:"icon-task-get-2"},Vs={class:"icon-task-5"},Ws={key:0,class:"dialogs-record"},Js={class:"record-info"},As={class:"bg-record-info"},Hs=["src"],Zs=["src"],el=["src"],sl=["src"],ll={class:"record-list"},al=["onClick"],tl=["src"],il=["src"],nl=["src"],dl=["src"],ol={key:4,class:"icon-10-1"},ul={key:1,class:"empty scene-layer"},cl={key:0,class:"scene-layer layer-mask"},rl={key:0,class:"icon-date-get"},pl=se((()=>m("div",{class:"bg-date-2"},null,-1))),vl={key:0,class:"dialogs-tips-pay layer-mask"},Il={class:"bg-tips-pay"},ml={key:0,class:"dialogs-tips-pay layer-mask"},gl={key:0,class:"dialogs-address"},yl={class:"bg-address"},kl=[se((()=>m("div",{class:"icon-share"},null,-1)))],wl={key:2,class:"dialogs-black-list"},fl=se((()=>m("br",null,null,-1))),xl=se((()=>m("br",null,null,-1))),hl={key:5,class:"data-board"},ql=se((()=>m("div",null,"----福袋奖品数据---",-1))),Ll={class:"yellow"},Cl={class:"red"},$l={class:"yellow"},bl={class:"red"},zl={class:"yellow"},Rl={class:"red"},Ql={class:"yellow"},Tl={class:"red"},_l={class:"yellow"},Sl={class:"red"},Xl=se((()=>m("div",null,"-----免费奖品数据-----",-1))),Yl={class:"yellow"},Nl={class:"red"},El={class:"yellow"},Gl={class:"red"},jl={class:"yellow"},Kl={class:"red"},Ml={key:0,id:"audio-list"},Bl=["id","src","loop"],Fl=e(s({name:"20260123",setup(e){var s;let D,O,se,Fl="https://cpe-oss-h5.oss-cn-shenzhen.aliyuncs.com/h5/20260123/image-v2";const{proxy:Ul}=V();let Pl=new J({});const Dl=l();let Ol="",Vl=["localhost"].includes(location.hostname);const Wl=(null==(s=Dl.params)?void 0:s.userInfo)??{};se=(null==Wl?void 0:Wl.unionid)??"";let Jl=(null==Wl?void 0:Wl.openid)??"";const Al=a(!["localhost"].includes(location.hostname)||["localhost"].includes(location.hostname)&&t()),Hl=a(["ofN_u6nBbWm3k8KmgyWetjEKIGaE","ofN_u6kSinBv-J6VPcZevtbsM6HE","ofN_u6ponYvCCD-jdiZucJKTyI-g"].includes(se)),Zl=a("2"),ea=a(!1),sa=a(!1),la=a(i(1200,!Al.value)),aa=a(i(1200,!Al.value)),ta=a(i(1400,!Al.value)),ia=a(i(1600,!Al.value)),na=a("mm"),da=a(Vl?"":"rule"),oa=a(!1),ua=a(!1),ca=a(0),ra=a([]),pa=a(!1),va=a(null),Ia=a(1),ma=a(!0),ga=a(!0),ya=a(!1),ka=a(1),wa=a(0),fa=a(!1),xa=a(T()),ha=a(Hl.value?"1":"990"),qa=a(!1),La=a({phone:"",name:"",address:""}),Ca=a({}),$a=a({}),ba=a({});let za=!1;const Ra=n({volume:!1,audioList:[{name:"bgm",src:`${Fl}/audio/bgm.mp3`,loop:!0},{name:"click",src:`${Fl}/audio/click.mp3`,loop:!1},{name:"collect",src:`${Fl}/audio/collect.mp3`,loop:!1}]});let Qa=a({gameEntry:[{id:1,width:1600,height:130,top:110,left:0},{id:2,width:1600,height:215,top:305,left:0},{id:3,width:1600,height:200,top:520,left:0},{id:4,width:1600,height:230,top:810,left:0},{id:5,width:1600,height:212,top:1154,left:0},{id:6,width:1600,height:212,top:1350,left:0}],mapConfig:{map_1:{mapId:1,roleX:500,roleY:100,npcList:[{npcId:1,x:873,y:317,width:150,height:120,roleX:700,roleY:350,tips:1,questionId:1},{npcId:2,x:382,y:406,width:180,height:150,roleX:491,roleY:541,tips:2,questionId:4},{npcId:3,x:1150,y:420,width:180,height:180,roleX:1e3,roleY:450,tips:3,questionId:7},{npcId:4,x:873,y:317,width:150,height:120,roleX:700,roleY:350,tips:4,questionId:5},{npcId:5,x:900,y:40,width:450,height:150,roleX:1e3,roleY:150,tips:5,gameId:1,nextRoleId:6,tipsClass:"center"},{npcId:6,x:873,y:317,width:150,height:120,roleX:700,roleY:350,tips:6,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1},{answerId:2,nextQuestionId:3,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:3}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:2}]},{questionId:7,npcId:3,imgId:3,answerList:[{answerId:1,nextRoleId:4}]},{questionId:4,npcId:4,imgId:2,answerList:[{answerId:1,nextRoleId:4}]},{questionId:7,npcId:3,imgId:3,answerList:[{answerId:1,nextRoleId:4}]},{questionId:5,npcId:4,imgId:1,answerList:[{answerId:1,nextRoleId:5}]},{questionId:6,npcId:6,imgId:1,answerList:[{answerId:1,isCollect:1}]}]},map_2:{mapId:2,roleX:400,roleY:550,npcList:[{npcId:1,x:450,y:260,width:170,height:150,roleX:450,roleY:400,tips:1,questionId:1},{npcId:2,x:990,y:270,width:170,height:150,roleX:940,roleY:410,tips:2,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:12,nextRoleId:1},{answerId:2,nextQuestionId:5,nextRoleId:1}]},{questionId:12,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:1,gameId:1}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,isCollect:1}]},{questionId:4,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:1,gameId:1},{answerId:2,nextRoleId:1,nextQuestionId:5}]},{questionId:5,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:2}]},{questionId:6,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,nextQuestionId:7}]},{questionId:7,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,nextQuestionId:9},{answerId:2,nextRoleId:2,nextQuestionId:8}]},{questionId:8,npcId:2,imgId:2,answerList:[{answerId:1,end:1}]},{questionId:9,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:2}]},{questionId:10,npcId:2,imgId:2,answerList:[{answerId:1,isCollect:1}]},{questionId:11,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:2},{answerId:2,nextRoleId:2,nextQuestionId:8}]}]},map_3:{mapId:1,roleX:550,roleY:450,npcList:[{npcId:1,x:1050,y:317,width:150,height:120,roleX:900,roleY:337,tips:1,questionId:1},{npcId:2,x:456,y:223,width:150,height:120,roleX:620,roleY:180,tips:2,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:13,nextRoleId:1}]},{questionId:13,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1},{answerId:2,nextQuestionId:4,nextRoleId:1},{answerId:3,nextQuestionId:4,nextRoleId:1},{answerId:4,nextQuestionId:5,nextRoleId:1}]},{questionId:4,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:13,nextRoleId:1}]},{questionId:5,npcId:1,imgId:1,answerList:[{answerId:1,isCollect:1}]},{questionId:6,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:2}]},{questionId:7,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:8,nextRoleId:2}]},{questionId:8,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:9,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:3}]},{questionId:10,npcId:2,imgId:2,answerList:[{answerId:1,isCollect:1}]},{questionId:11,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:12,nextRoleId:2}]},{questionId:12,npcId:2,imgId:2,answerList:[{answerId:1,nextRoleId:2,gameId:3}]}]},map_4:{mapId:4,roleX:1100,roleY:280,roleScale:.7,npcList:[{npcId:1,x:510,y:220,width:200,height:120,roleX:690,roleY:320,tips:1,questionId:1},{npcId:2,x:950,y:530,width:120,height:120,roleX:820,roleY:540,tips:2,questionId:7}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1}]},{questionId:2,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:3,nextRoleId:1}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1}]},{questionId:4,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:5,nextRoleId:1},{answerId:2,nextQuestionId:6,nextRoleId:1},{answerId:3,nextQuestionId:5,nextRoleId:1},{answerId:4,nextQuestionId:5,nextRoleId:1}]},{questionId:5,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1}]},{questionId:6,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:2}]},{questionId:7,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:8,nextRoleId:2}]},{questionId:8,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:9,npcId:2,imgId:3,answerList:[{answerId:1,gameId:4,nextRoleId:2}]},{questionId:10,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:11,npcId:2,imgId:3,answerList:[{answerId:1,isCollect:1}]}]},map_5:{mapId:5,roleX:320,roleY:370,roleScale:.9,npcList:[{npcId:1,x:1150,y:320,width:130,height:120,roleX:1e3,roleY:350,tips:1,questionId:1},{npcId:2,x:690,y:430,width:150,height:170,roleX:550,roleY:485,tips:2,questionId:3},{npcId:3,x:1150,y:320,width:130,height:120,roleX:1e3,roleY:350,tips:3,questionId:5},{npcId:4,x:690,y:430,width:150,height:170,roleX:550,roleY:485,tips:4,questionId:6}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:2,nextRoleId:1}]},{questionId:2,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:2}]},{questionId:3,npcId:2,imgId:2,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:2}]},{questionId:4,npcId:3,imgId:3,answerList:[{answerId:1,nextRoleId:3}]},{questionId:5,npcId:3,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:4}]},{questionId:6,npcId:4,imgId:2,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:4}]},{questionId:7,npcId:4,imgId:3,answerList:[{answerId:1,gameId:5,nextRoleId:4}]},{questionId:8,npcId:4,imgId:3,answerList:[{answerId:1,nextQuestionId:7,nextRoleId:4}]},{questionId:9,npcId:4,imgId:3,answerList:[{answerId:1,isCollect:1}]}]},map_6:{mapId:6,roleX:1112,roleY:427,roleScale:.8,npcList:[{npcId:1,x:578,y:423,width:166,height:120,roleX:750,roleY:440,tips:1,questionId:1},{npcId:2,x:350,y:200,width:150,height:170,roleX:505,roleY:240,tips:2,questionId:8}],questionList:[{questionId:1,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:1,nextQuestionId:2}]},{questionId:2,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:3,nextRoleId:1}]},{questionId:3,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1}]},{questionId:4,npcId:1,imgId:1,answerList:[{answerId:1,nextRoleId:1,gameId:6},{answerId:2,nextRoleId:1,nextQuestionId:6}]},{questionId:5,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:4,nextRoleId:1},{answerId:2,nextQuestionId:6,nextRoleId:1}]},{questionId:6,npcId:1,imgId:1,answerList:[{answerId:1,nextQuestionId:8,nextRoleId:2}]},{questionId:7,npcId:1,imgId:2,answerList:[{answerId:1,nextQuestionId:8,nextRoleId:2}]},{questionId:8,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:9,nextRoleId:2}]},{questionId:9,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:10,nextRoleId:2}]},{questionId:10,npcId:2,imgId:3,answerList:[{answerId:1,gameId:7,nextRoleId:2},{answerId:2,nextQuestionId:12,nextRoleId:2}]},{questionId:11,npcId:2,imgId:3,answerList:[{answerId:1,nextQuestionId:10,nextRoleId:2},{answerId:2,nextQuestionId:12,nextRoleId:2}]},{questionId:12,npcId:2,imgId:3,answerList:[{answerId:1,end:2}]},{questionId:13,npcId:2,imgId:3,answerList:[{answerId:1,isCollect:1}]}]}},lottery:[[{id:3,name:"奇迹珍珠"},{id:10,name:"福袋",pay:ha},{id:1,name:"奇迹晶石"}],[{id:11,name:"福袋",pay:ha},{id:5,name:"奇迹能量剂"},{id:12,name:"福袋",pay:ha}],[{id:7,name:"奇迹果实"},{id:13,name:"福袋",pay:ha},{id:6,name:"奇迹矿石"}]],fuList:["face/1-aq.png","face/2-sd.png","face/3-rs.png","face/4-td.png","face/5-sf.png","face/6-ss.png","face/7-tt.png"],faceList:["face/8-sc.png","face/9-sf.png","face/10-yy.png","face/11-iu.png","face/12-rq.png","face/13-po.png"],random:{redpacket:1,freeGoods:1,goodsCollect:5},canPay:!0,everyGoodsOneTime:3,payLimit:30});d(ca,(e=>{Ta()}));const Ta=()=>{Ia.value=1,va.value=null,ka.value=1,ya.value=!1},_a=o((()=>{let e=0,s=null,l=0,a=[],t=0,i=0,n=sa.value?5:0,d=0,o=0,u=[],c=[],r=[],p=0,v=[],I=[0,0,0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[],y=0,k=0,w=0;Hl.value&&(m=[99,99,99,99,99,99,99,99,99,99,0,0,0,0,0]),ra.value.map((p=>{const{addTime:f}=p,x=W(f);if(p.extra){const{type:h="",isFuGoods:q="",code:L=""}=p.extra;if(x){if("login"===h&&e++,"date"===h&&t++,"share"===h&&d++,"play-egg"===h&&o++,"collect"===h&&r.push(p),h.startsWith("map-")){const{mapId:e=0,npcId:s=0}=p.extra;e&&("map-npc"===h&&(u.includes(100*e+s)||u.push(100*e+s)),"map-entry"===h&&(c.includes(e)||c.push(e)))}"lottery"===h&&(p.extra.useSystemSend?Zl.value&&n--:i--)}if("selectRole"===h&&(s=p.extra.roleId),"play"===h&&l++,"collect"===h&&m[p.extra.collectType]++,"lottery"===h){p.extra.useSystemSend&&!Zl.value&&n--;const{extra:e}=p,{prizeId:s=0,collectType:l=0,prizeImgId:a=0,subId:t}=e;s&&([1,2,6,7].includes(s)&&v.some((e=>e.prizeId===s&&e.prizeImgId===a))||v.push({...e,_id:p.id??null}),[4,5,8,9,12,13].includes(s)&&(4===s?1===t&&g.push(e):5===s&&Zl.value||g.push(e)),I.length>s+1&&I[s]++),l&&m[l]--,q&&(k++,L||w++)}if("pay-success"===h&&y++,"date"===h){a.push("01-23");const e=f.split(" ")[0].split("2026-")[1];e&&!a.includes(e)&&a.push(e)}"invalid-timestamp"===h&&(fa.value=!0)}})),d&&i++,e&&i++,o&&i++,u.length>=3&&i++,c.length>=2&&i++,i=i>5?5:i,i=i<0?0:i,n=n<=0?0:n,p=i+n,p=p<0?0:p;let f=[];v.forEach((e=>{[4,5,10,11,12,13].includes(e.prizeId)&&(4===e.prizeId&&e.subId,f.push(e))})),v.forEach((e=>{[3,4,8,9].includes(e.prizeId)&&(4===e.prizeId&&e.subId,f.push(e))})),v.forEach((e=>{[3,4,5,8,9,10,11,12,13].includes(e.prizeId)||f.push(e)})),v=f;return{loginToday:e,roleId:s,playCount:l,dateList:a,dateToday:t,canLotteryToday:i,shareToday:d,playEggToday:o,mapNpcToday:u,entryMapListToday:c,collectTodayList:r,canLotterySystemSend:n,canLotteryTodayFinally:p,collectCountList:m,prizeList:v,freeGoodsPrize:Hl.value?[]:g,prizeCount:I,paySuccessCount:y,payLotteryCount:k,payLotteryGoodsCount:w}})),Sa=o((()=>{let e=Qa.value.mapConfig[`map_${ca.value}`],s=e.roleX,l=e.roleY,a=null;if(va.value){let a=e.npcList.find((e=>e.npcId===va.value));a&&(s=a.roleX,l=a.roleY)}if(ka.value){let s=e.questionList.find((e=>e.questionId===ka.value));s&&(a=s)}return{...e,roleX:s,roleY:l,question:a}}));let Xa=10;const Ya=async(e="")=>{var s,l,a;if(["lottery-empty","lottery-prize","lottery-prize-youku","lottery-prize-5","lottery-prize-4","lottery-prize-6","lottery-prize-7","lottery-prize-8","lottery-prize-9","lottery-prize-10","lottery-prize-11","lottery-prize-12","lottery-prize-13"].includes(da.value))return"address"===e&&[5,10,11].includes(Ca.value.prizeId)&&(e="record"),Ca.value={},Fa(""),void Fa(e);if(ea.value)return;let t=0,i="",n=null,d=null;const{selectId:o}=Ca.value,u={type:"lottery",collectType:o};try{ea.value=!0,Ca.value.lotteryFinish=0,Z("检验中...",Al?90:0);const{canLotterySystemSend:e,freeGoodsPrize:c=[],payLotteryCount:r=0,payLotteryGoodsCount:p=0}=_a.value,{everyGoodsOneTime:v=3}=Qa.value;e>0&&(u.useSystemSend=1);let I=_(0,100);if([10,11,12,13].includes(o)){const e=r+1;Math.floor(e/v)>p&&(t=5);const a=await Aa(t?[5]:[4,5,10,11],[2,3]);if(null==a?void 0:a.length){const e=a[_(0,a.length-1)];t=e.extra.prizeId,4===t&&(d=(null==(s=e.extra)?void 0:s.subId)??null,n=(null==(l=null==e?void 0:e.extra)?void 0:l.code)??""),Ha(e.id)}else t=5;u.isFuGoods=1}if(!c.length)if([1,5].includes(o)){if(I<Qa.value.random.freeGoods){const e=await Aa([8,9,12,13]);if(null==e?void 0:e.length){const s=e[_(0,e.length-1)];t=s.extra.prizeId,Ha(s.id)}}}else if([3,7,6].includes(o)&&I<Qa.value.random.redpacket){const e=await Aa([4],[1]);if(null==e?void 0:e.length){const s=e[_(0,e.length-1)];n=(null==(a=null==s?void 0:s.extra)?void 0:a.code)??"",d=1,Ha(s.id),t=4}}if(!t)if(I<50){t=6;const e=Qa.value.faceList[_(0,Qa.value.faceList.length-1)];u.prizeImgId=e,i=e}else{t=7;const e=Qa.value.fuList[_(0,Qa.value.fuList.length-1)];u.prizeImgId=e,i=e}u.prizeId=t,n&&(u.code=n),d&&(u.subId=d),Wa(u)}catch(c){}finally{ea.value=!1,ee()}if(Ca.value.prizeId=t,Ca.value.lotteryFinish=1,Ca.value.prizeImgId=i,Ca.value.code=n,Ca.value.subId=d,t){Ca.value.tipsId=2;let e="lottery-prize";3===t&&(e="lottery-prize-youku"),[4,5,6,7,8,9,10,11,12,13].includes(t)&&(e=`lottery-prize-${t}`),Fa(e)}else Ca.value.tipsId=3,Fa("")},Na=()=>{const{collectTodayList:e}=_a.value;e.length,st("collect");let s=[3,7,6];_(0,100)<Qa.value.random.goodsCollect&&(s=[3,1,5,7,6]);const l=s[_(0,s.length-1)];da.value=`collect-${l}`,Wa({type:"collect",mapId:ca.value,collectType:l})},Ea=e=>{try{const{appId:s,timeStamp:l,nonceStr:a,signType:t,paySign:i,orderNo:n}=e;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:s,timeStamp:l,nonceStr:a,package:e.packageVal,signType:t,paySign:i},(function(s){"get_brand_wcpay_request:ok"==s.err_msg?setTimeout((()=>{Ga(e)}),300):"get_brand_wcpay_request:cancel"==s.err_msg&&Y(e.orderNo)}))}catch(s){et(s)}},Ga=async e=>{var s;const l=await X(e.orderNo);1===(null==(s=null==l?void 0:l.data)?void 0:s.status)&&(Wa({type:"collect",collectType:Xa,pay:1}),Wa({type:"pay-success",...e}),Fa("tips-pay-success"))},ja=e=>{if(st("click"),"close"===e)return void(ca.value=0);if("collect"===e){if(da.value="",2===ca.value){if(3===ka.value)return ka.value=5,void(ya.value=!0)}else if(3===ca.value){if(5===ka.value)return ya.value=!1,void(Ia.value=2)}else if(6===ca.value&&4===ka.value)return ka.value=7,void(ya.value=!0);return void Ta()}if(pa.value)return;const{questionId:s,gameId:l}=e;let a=600;va.value===e.npcId&&(a=0),a&&(pa.value=!0,va.value=e.npcId),setTimeout((()=>{if(s&&(ka.value=s,ya.value=!0),l){const{nextRoleId:s}=e;1===l&&(Ia.value=s,Da())}pa.value=!1,Wa({type:"map-npc",mapId:ca.value,npcId:e.npcId})}),a)};let Ka=null;const Ma=(e=0)=>{if(ya.value=!1,1===e)ba.value={gameId:e,random:_(1,3),selectList:[0,0,0]};else if(2===e){if(Ka)return;const e=Array.from({length:6},(()=>_(1,3)));ba.value={gameId:2,timer:5,randomList:e,selectList:[]},Ka=setInterval((()=>{ba.value.timer--,ba.value.timer<=0&&(clearInterval(Ka),Ka=null)}),1e3)}else if(3===e)ba.value={gameId:e,selectList:[0,0,0,0]};else if(4===e){if(Ka)return;const e=[],s=[];for(let l=0;l<60;l++)e.push(l<30?1:2),s.push(0);e.sort((()=>Math.random()-.5)),ba.value={gameId:4,randomList:e,selectList:s,timer:18,targetScore:20},Ka=setInterval((()=>{ba.value.timer--,ba.value.timer<=0&&(clearInterval(Ka),Ka=null,Ba())}),1e3)}else if(5===e)ba.value={gameId:e,selectList:[0,0,0,0,0,0,0],targetScore:3};else if(6===e)ba.value={gameId:e,successCount:0,offset:0,timer:15},Ka=setInterval((()=>{ba.value.timer--,ba.value.timer<=0&&(clearInterval(Ka),Ka=null,Ba(1))}),1e3);else if(7===e){let e=[2,3,4,5,6,7];e.sort((()=>Math.random()-.5)),ba.value={gameId:7,timer:5,targetId:_(2,7),selectId:0,cardList:e},Ka=setInterval((()=>{ba.value.timer--,ba.value.timer<-15&&(clearInterval(Ka),Ka=null,Ba())}),1e3)}},Ba=(e=0)=>{const{gameId:s}=ba.value;let l=0;if(1===s){const{selectList:e}=ba.value;e.every((e=>1===e))&&(l=1),ka.value=l?3:4}else if(2===s){const{selectList:e,randomList:s}=ba.value;e.slice(0,6).join("")===s.join("")&&(l=1),ka.value=l?10:11}else if(3===s){const{selectList:e}=ba.value;"1000"===e.map((e=>e?"1":"0")).join("")&&(l=1),ka.value=l?10:11}else if(4===s){const{selectList:e}=ba.value;e.filter((e=>1===e)).length>=ba.value.targetScore&&(l=1),ka.value=l?11:10}else if(5===s){const{selectList:e}=ba.value;e.filter((e=>1===e)).length>=ba.value.targetScore&&(l=1),ka.value=l?9:8}else if(6===s){if(!e){if(ea.value)return;ea.value=!0,setTimeout((()=>{ea.value=!1}),200);let e=document.getElementById("map-game-6-target"),s=document.getElementById("map-game-6-dot");if(e&&s){const l=e.getBoundingClientRect(),a=s.getBoundingClientRect();let t=!1;Al.value?a.left>=l.left&&a.right<=l.right&&(ba.value.successCount++,t=!0):a.top>=l.top&&a.bottom<=l.bottom&&(ba.value.successCount++,t=!0),t&&(ba.value.offset=_(-100,100))}if(!(ba.value.successCount>=3))return;l=1,Ka&&clearInterval(Ka),Ka=null}l?setTimeout((()=>{Na()}),200):ka.value=5}else if(7===s){const{selectId:e,targetId:s}=ba.value;e===s&&(l=1),ka.value=l?13:11,Ka&&clearInterval(Ka),Ka=null}Wa({type:"map-game",mapId:ca.value,gameId:s,gameSuccess:l}),ba.value={},l&&6===s||(ya.value=!0)},Fa=e=>{if("address"!==e){if("lottery"===e)return ua.value=!0,Ca.value={tipsId:1},void st("click");"date"===e&&(_a.value.dateToday||Wa({type:"date"}),st("click")),"record"===e&&_a.value.prizeList.length&&($a.value={..._a.value.prizeList[0]}),da.value=e,e&&st("click")}else qa.value=!0},Ua=(e,s="")=>{if("look"!==s)if("address"!==s)$a.value={...e};else{if(Zl.value){if([8,9,12,13].includes(e.prizeId))Za.value?et("你已提交过信息"):Fa("address");else if([5,10,11].includes(e.prizeId)){const{_id:s}=e;s&&ra.value.find((e=>{var l,a;return"pay-address"===(null==(l=e.extra)?void 0:l.type)&&(null==(a=e.extra)?void 0:a._id)===s}))?et("你已提交过信息"):Fa("address")}return}Za.value?et("你已提交过信息"):Fa("address")}else{let e=`${Fl}/w/${$a.value.prizeImgId}`;Va(e)}},Pa=e=>{ea.value||(1===e?(oa.value=!0,ea.value=!0,setTimeout((()=>{ea.value=!1,Wa({type:"share"})}),3e3)):2===e||5===e&&Da())},Da=()=>{za=!0,N.push({path:"/20251002-v2",query:{showBackBtn:1}})},Oa=e=>{E(e),et("复制成功")},Va=e=>{"youku"===e?e=`${Fl}/w/youku.png`:"red"===e&&(e=`${Fl}/background/tips-red-2.jpg`),Pl.onSaveImage(e).then((e=>{et(e)})).catch((e=>{et(e)}))},Wa=(e={})=>{var s;(null==(s=null==_a?void 0:_a.value)?void 0:s.roleId)&&!e.roleId&&(e.roleId=_a.value.roleId);const l=_(0,1e3),a=_(0,20);let t=A({k:Ol,unionid:se,score:l,level:a});const i=(new Date).getTime();G({ownerUnionid:se,activityKey:D,gameScore:l,levelNum:a,playTime:i,extra:e,k:Ol,s:t,periodNum:O}).finally((()=>{Zl.value&&[5,10,11].includes(null==e?void 0:e.prizeId)&&Ja(!0)}));const n={addTime:j(i),extra:{...e}};return ra.value.unshift(n),n},Ja=async(e=!1)=>{ea.value=!0,e&&Z("加载中...",Al?90:0),K({activityKey:D,periodNum:O,ownerUnionid:se}).then((({code:e,data:s})=>{0===e&&s?(s.length&&s.sort(((e,s)=>s.id-e.id)),ra.value=s,sa.value=!0,M((()=>{_a.value.loginToday||Wa({type:"login"})}))):et("获取记录异常,请刷新后再试")})).finally((()=>{ea.value=!1,ee()})),B({unionid:se,activityKey:D,periodNum:O}).then((({code:e,data:s})=>{(null==s?void 0:s.name)&&(Za.value=!0)}))};const Aa=async(e,s=null,l=!1)=>new Promise((a=>{K({activityKey:"20260123-code",periodNum:O,ownerUnionid:"ofN_u6o0InL3IJ_Asp3qp8MIlxH4"}).then((({code:t,data:i})=>{if(0===t){let t=[];i.map((a=>{var i,n;l?t.push(a):(new Date).getTime()>=new Date(a.addTime).getTime()&&1===a.status&&e.includes(null==(i=a.extra)?void 0:i.prizeId)&&(null!==s&&(null==(n=a.extra)?void 0:n.subId)?s.includes(a.extra.subId)&&t.push(a):t.push(a))})),a(t)}})).catch((e=>{a([])}))})),Ha=e=>{let s=H({k:Ol,unionid:se,id:e});F({ownerUnionid:se,id:e,status:0,k:Ol,s:s})},Za=a(!1),et=e=>{Ul.$Message.success(e,3)},st=(e,s=!1)=>{P(Ra,e,s)};u((async()=>{var e,s;Z("加载中...",Al?90:0),D=(null==(e=Dl.meta)?void 0:e.activityKey)??"20260123",O=(null==(s=Dl.meta)?void 0:s.periodNum)??1,c({activityKey:D}).then((async({code:e,data:s})=>{var l,a,t,i;0===e&&(Ol=s.k,(null==(l=null==s?void 0:s.extra)?void 0:l.random)&&(Qa.value.random=s.extra.random),Qa.value.canPay=(null==(a=null==s?void 0:s.extra)?void 0:a.canPay)??!0,Qa.value.everyGoodsOneTime=(null==(t=null==s?void 0:s.extra)?void 0:t.everyGoodsOneTime)??3,Qa.value.payLimit=(null==(i=null==s?void 0:s.extra)?void 0:i.payLimit)??30,(null==s?void 0:s.timestamp)&&Math.abs((new Date).getTime()-1e3*s.timestamp)>36e5&&(fa.value=!0,Wa({type:"invalid-timestamp",timestamp:Pl.timestamp,usertime:(new Date).getTime()})),Ja(),Hl.value&&Aa([],[],!0).then((e=>{lt.value=e})))})),Vl&&c({activityKey:"20260123-code"}).then((async({code:e,data:s})=>{0===e&&s.k})),Pl.ready((()=>{var e,s,l;st("bgm",!0),Pl.updateShareData({title:(null==(e=Dl.meta)?void 0:e.title)??"",desc:(null==(s=Dl.meta)?void 0:s.desc)??"",link:location.origin+Dl.path,imgUrl:(null==(l=Dl.meta)?void 0:l.imgUrl)??""}),document.addEventListener("visibilitychange",(e=>{document.hidden?r():Ra.volume&&st("bgm",!0)}))}))})),p((()=>{za&&(za=!1,(null==window?void 0:window.playEggGame)&&(window.playEggGame=!1,Wa({type:"play-egg"})))}));const lt=a([]),at=o((()=>{let e={red1:{total:0,invalid:0,remain:0},red2:{total:0,invalid:0,remain:0},red3:{total:0,invalid:0,remain:0},prize5:{total:0,invalid:0,remain:0},prize8:{total:0,invalid:0,remain:0},prize9:{total:0,invalid:0,remain:0},prize10:{total:0,invalid:0,remain:0},prize11:{total:0,invalid:0,remain:0}};lt.value.forEach((s=>{const{extra:l,status:a}=s,{prizeId:t,subId:i}=l;4===t?(e["red"+i].total++,0===a&&e["red"+i].invalid++):e["prize"+t]&&(e["prize"+t].total++,0===a&&e["prize"+t].invalid++)}));for(let s in e)e[s].remain=e[s].total-e[s].invalid;return e}));return(e,s)=>{var l,a;return v(),I(w,null,[m("div",{id:"page-20260123",class:y({m:Al.value})},["mm"==na.value?(v(),I("div",le,[ae,te,m("div",ie,[ne,m("span",{class:"btn-start",onClick:s[0]||(s[0]=g((e=>(_a.value.roleId||Wa({type:"selectRole",roleId:_(1,6)}),na.value="game",setTimeout((()=>{Fa("tips-map-spring")}),300),void st("click"))),["stop"]))})]),m("span",{class:"btn btn-rule",onClick:s[1]||(s[1]=g((e=>Fa("rule")),["stop"]))}),m("span",{class:y(["btn btn-music",[{active:Ra.volume}]]),onClick:s[2]||(s[2]=e=>st("bgm",!0))},null,2),de])):k("",!0),"game"!=na.value||ua.value?k("",!0):(v(),I("div",{key:1,id:"game",class:y(["scene-layer",`skin-${Zl.value}`])},[m("div",oe,[m("div",ue,[(v(!0),I(w,null,f(h(Qa).gameEntry,(e=>(v(),I("div",{key:e.id,class:"game-entry",onClick:g((s=>(e=>{const{id:s=null,lock:l=0}=e;(!l&&s||Hl.value)&&(ca.value=s,ma.value=!1,Wa({type:"map-entry",mapId:s}),st("click"))})(e)),["stop"]),style:x(`width:${e.width}px;height:${e.height}px;margin-top:${e.top}px;margin-left:${e.left}px;`)},[ma.value&&e.new?(v(),I("span",re)):k("",!0),e.lock?(v(),I("span",pe)):k("",!0)],12,ce)))),128))])]),ve,Ie,m("div",me,[m("span",{class:y(["btn-music",[{active:Ra.volume}]]),onClick:s[3]||(s[3]=e=>st("bgm",!0))},null,2),m("span",{class:"btn-rule",onClick:s[4]||(s[4]=g((e=>Fa("rule")),["stop"]))})]),m("div",ge,[Zl.value?(v(),I(w,{key:0},[m("span",{class:"icon-spring-1",style:x(`scale:${ia.value}`)},null,4),ye,ke],64)):k("",!0),m("span",{class:"btn-task",onClick:s[5]||(s[5]=g((e=>Fa("task")),["stop"]))}),m("span",{class:"btn-record",onClick:s[6]||(s[6]=g((e=>Fa("record")),["stop"]))}),m("span",{class:y([Zl.value?"btn-lottery-2":"btn-lottery"]),onClick:s[7]||(s[7]=g((e=>(Fa("lottery"),ga.value=!1)),["stop"]))},[Zl.value&&ga.value?(v(),I("span",we)):k("",!0)],2),Zl.value?k("",!0):(v(),I("span",{key:1,class:"btn-date",onClick:s[8]||(s[8]=g((e=>Fa("date")),["stop"]))}))]),m("span",fe,[_a.value.roleId?(v(),I("img",{key:0,src:`${h(Fl)}/icon/role/${_a.value.roleId}.png`},null,8,xe)):k("",!0)])],2)),"game"==na.value&&ca.value>0&&!ua.value?(v(),I("div",he,[m("div",{class:y(["map-bg",`bg-map-${ca.value}-0`])},null,2),m("div",{class:y(["map-road",[`bg-map-${ca.value}-1`,{isIOSDevice:xa.value&&ya.value}]]),style:x(`scale:${aa.value}`)},[m("span",{class:y(["map-role",`role-${_a.value.roleId}`]),style:x(`left:${Sa.value.roleX}px;top:${Sa.value.roleY}px;scale:${Sa.value.roleScale||1}`)},null,6),(v(!0),I(w,null,f(Sa.value.npcList,(e=>(v(),I(w,{key:`npc-${e.npcId}`},[e.tips===Ia.value?(v(),I("span",{key:0,onClick:g((s=>ja(e)),["stop"]),class:"map-npc",style:x(`left:${e.x}px;top:${e.y}px;width:${e.width}px;height:${e.height}px`)},[m("span",{class:y(["icon-map-tips",`${e.tipsClass||""}`])},null,2)],12,qe)):k("",!0)],64)))),128))],6),m("div",Le,[m("span",{class:y(["btn-music",[{active:Ra.volume}]]),onClick:s[9]||(s[9]=e=>st("bgm",!0))},null,2),m("span",{class:"btn-rule",onClick:s[10]||(s[10]=g((e=>Fa("rule")),["stop"]))}),m("span",{class:"btn-back",onClick:s[11]||(s[11]=g((e=>ja("close")),["stop"]))})]),m("div",Ce,[m("span",{class:"btn-lottery2",onClick:s[12]||(s[12]=g((e=>Fa("lottery")),["stop"]))}),m("span",{class:"btn-record2",onClick:s[13]||(s[13]=g((e=>Fa("record")),["stop"]))})])])):k("",!0),ya.value?(v(),I("div",{key:3,id:"question",class:"scene-layer",onClick:s[16]||(s[16]=g((e=>ya.value=!1),["self"]))},[m("div",{class:y(["question-role-wrap",`map-${ca.value}`]),style:x(`scale:${ta.value}`),onClick:s[14]||(s[14]=g((e=>ya.value=!1),["self"]))},[m("div",{class:y(["question-role",`question-${ca.value}-r-${Sa.value.question.imgId}`])},null,2),m("div",{class:y(["question-content icon-q-content",`content-${ca.value}-${Sa.value.question.questionId}`])},[m("div",$e,[m("span",{class:y(`question-${ca.value}-t-${Sa.value.question.imgId}`)},null,2)]),m("div",be,[m("span",{class:y(`question-${ca.value}-q-${Sa.value.question.questionId}`)},null,2),ze])],2)],6),m("div",{class:y(["question-answer-wrap",`question-${ca.value}-answer-wrap-${Sa.value.question.questionId}`]),onClick:s[15]||(s[15]=g((e=>ya.value=!1),["self"]))},[(v(!0),I(w,null,f((null==(l=Sa.value.question)?void 0:l.answerList)??[],(e=>(v(),I("span",{class:"question-answer-item-wrap",onClick:s=>(e=>{if(ea.value)return;const{answerId:s,nextQuestionId:l,nextRoleId:a,isCollect:t,gameId:i,end:n}=e;n?Ta():(Wa({type:"map-answer",mapId:ca.value,npcId:va.value,questionId:ka.value,answerId:s}),wa.value=s,st("click"),ea.value=!0,setTimeout((()=>{ea.value=!1,wa.value=0,a===va.value?l?ka.value=l:i?Ma(i):t&&(ya.value=!1,Na()):(ya.value=!1,a&&(Ia.value=a),t&&Na())}),300))})(e),key:e.answerId},[m("span",{class:y(`question-${ca.value}-a-${ka.value}-${e.answerId}-${wa.value&&wa.value===e.answerId?1:0}`)},null,2)],8,Re)))),128))],2)])):k("",!0),(null==(a=ba.value)?void 0:a.gameId)?(v(),I("div",Qe,[1===ba.value.gameId?(v(),I("div",{key:0,class:y(["map-game-1",`question-2-g-${ba.value.gameId}-${ba.value.random}`])},[m("div",{class:y(`map-game-${ba.value.random}`)},[(v(!0),I(w,null,f(ba.value.selectList,((e,s)=>(v(),I("span",{key:`question-2-g-find-${s}`,class:y(["question-2-g-find",[`p-${ba.value.random}-${s+1}`,{find:e}]]),onClick:g((e=>ba.value.selectList[s]=1),["self"])},null,10,Te)))),128))],2),m("span",{class:"game-close",onClick:s[17]||(s[17]=g((e=>Ba()),["stop"]))}),m("span",{class:"game-submit",onClick:s[18]||(s[18]=g((e=>Ba()),["stop"]))})],2)):k("",!0),2===ba.value.gameId?(v(),I("div",_e,[ba.value.timer>0?(v(),I("div",Se,[m("span",Xe,"00 : "+q(ba.value.timer<10?"0":"")+q(ba.value.timer),1),m("div",Ye,[(v(!0),I(w,null,f(ba.value.randomList,((e,s)=>(v(),I("span",{key:`question-2-item-list-${s}`,class:y(`question-2-icon-${e}`)},null,2)))),128))])])):(v(),I("div",Ne,[m("div",Ee,[(v(!0),I(w,null,f(ba.value.selectList,((e,s)=>(v(),I(w,{key:`question-2-show-list-${s}`},[s<6?(v(),I("span",Ge,[m("i",{class:y(`question-2-icon-${e}`)},null,2)])):k("",!0)],64)))),128))]),m("div",je,[m("span",{class:"item-1",onClick:s[19]||(s[19]=e=>ba.value.selectList.push(1))}),m("span",{class:"item-2",onClick:s[20]||(s[20]=e=>ba.value.selectList.push(2))}),m("span",{class:"item-3",onClick:s[21]||(s[21]=e=>ba.value.selectList.push(3))})]),m("span",{class:"game-close",onClick:s[22]||(s[22]=g((e=>Fa("")),["stop"]))}),m("span",{class:"game-submit",onClick:s[23]||(s[23]=g((e=>Ba()),["stop"]))})]))])):k("",!0),3===ba.value.gameId?(v(),I("div",Ke,[m("div",{class:"question-3-g-1",style:x(`scale:${la.value}`)},[m("div",Me,[(v(!0),I(w,null,f(ba.value.selectList,((e,s)=>(v(),I("span",{key:`select-${s}`,onClick:g((e=>ba.value.selectList[s]=!ba.value.selectList[s]),["self"])},[ba.value.selectList[s]?(v(),I("i",{key:0,class:"question-3-g-find",onClick:g((e=>ba.value.selectList[s]=!ba.value.selectList[s]),["self"])},null,8,Fe)):k("",!0)],8,Be)))),128))])],4),m("span",{class:"game-close",onClick:s[24]||(s[24]=g((e=>Ba()),["stop"]))}),m("span",{class:"game-submit",onClick:s[25]||(s[25]=g((e=>Ba()),["stop"]))})])):k("",!0),4===ba.value.gameId?(v(),I("div",Ue,[m("div",{class:"question-4-g-1",style:x(`scale:${la.value}`)},[Pe,m("div",De,[m("div",Oe,[(v(!0),I(w,null,f(ba.value.randomList,((e,s)=>(v(),I("span",{key:`item-list-box-${s}`,class:y("question-4-g-"+(2===e?"3":ba.value.selectList[s]?"4":"2")),onClick:l=>1===e?ba.value.selectList[s]=1:null},null,10,Ve)))),128))])]),m("div",We,"目标分数: "+q(ba.value.selectList.filter((e=>1===e)).length>20?"20":ba.value.selectList.filter((e=>1===e)).length)+" / 20",1)],4),m("span",{class:"game-close",onClick:s[26]||(s[26]=g((e=>Ba()),["stop"]))})])):k("",!0),5===ba.value.gameId?(v(),I("div",Je,[m("div",Ae,[(v(!0),I(w,null,f(ba.value.selectList,((e,s)=>(v(),I("span",{key:`question-5-g-1-${s}`,class:y([`item-${s}`,{find:e}]),onClick:g((e=>ba.value.selectList[s]=1),["self"])},null,10,He)))),128))]),m("span",{class:"game-close",onClick:s[27]||(s[27]=g((e=>Ba()),["stop"]))}),m("span",{class:"game-submit",onClick:s[28]||(s[28]=g((e=>Ba()),["stop"]))})])):k("",!0),6===ba.value.gameId?(v(),I("div",Ze,[m("div",{class:"question-6-g-1",onClick:s[29]||(s[29]=g((e=>Ba()),["stop"]))},[es,m("span",{class:y(["gouzi",{success:ba.value.successCount>=3}])},null,2),m("span",{class:y(["question-6-g-1-7",{success:ba.value.successCount>=3}])},null,2),ba.value.successCount<3?(v(),I("span",ss,[m("span",{class:"question-6-g-1-4",id:"map-game-6-target",style:x(`margin-top:${ba.value.offset}px`)},null,4),ls])):k("",!0),m("span",as,"剩余时间: "+q(ba.value.timer)+"秒",1),m("span",ts,"判定成功: "+q(ba.value.successCount)+" / 3",1)]),m("span",{class:"game-close",onClick:s[30]||(s[30]=g((e=>Ba(1)),["stop"]))})])):k("",!0),7===ba.value.gameId?(v(),I("div",is,[m("div",ns,[m("div",ds,[ba.value.timer>0?(v(),I("span",os)):(v(),I(w,{key:1},[us,m("span",{class:y(`question-6-g-2-${ba.value.targetId}-1`)},null,2)],64))]),m("div",cs,[(v(!0),I(w,null,f(ba.value.cardList,((e,s)=>(v(),I("span",{class:"card-item",key:`question-6-g-2-card-${s}`},[ba.value.timer>0?(v(),I("span",{key:0,class:y(`question-6-g-2-${e}`)},null,2)):(v(),I("span",{key:1,class:y(["question-6-g-2-8",{select:ba.value.selectId===e}]),onClick:s=>ba.value.selectId=e},null,10,rs))])))),128))]),m("span",ps,"剩余时间: "+q(ba.value.timer>0?ba.value.timer:Math.abs(ba.value.timer+15))+"秒",1)]),m("span",{class:"game-close",onClick:s[31]||(s[31]=g((e=>Ba()),["stop"]))}),m("span",{class:"game-submit",onClick:s[32]||(s[32]=g((e=>Ba()),["stop"]))})])):k("",!0)])):k("",!0),L(m("div",vs,[$(R,{name:"fade"},{default:b((()=>[ua.value?(v(),I("div",{key:0,class:"dialogs-lottery",onClick:s[36]||(s[36]=g((e=>{3===Ca.value.tipsId&&(Ca.value.lotteryFinish=0),Ca.value.tipsId&&(Ca.value.tipsId=0)}),["stop"]))},[m("div",Is,[m("div",{class:"lottery-main",style:x(`scale:${ta.value}`)},[m("div",ms,[(v(!0),I(w,null,f(h(Qa).lottery,((e,s)=>(v(),I("div",{class:y(["lottery-row",`row-${s+1}`]),key:`lottery-row-${s}`},[(v(!0),I(w,null,f(e,((e,l)=>(v(),I("span",{class:"item-box",key:`lottery-row-${s}-${l}`,onClick:s=>(e=>{const{id:s,disabled:l,pay:a}=e;if(Ca.value.tipsId||ea.value||l)return;const{collectCountList:t,canLotteryTodayFinally:i,paySuccessCount:n}=_a.value;if(t[s]<=0){if(a){if(!Qa.value.canPay)return void Fa("tips-pay-close");if(n>=Qa.value.payLimit)return void Fa("tips-pay-max");Xa=s,Fa("tips-pay")}}else i||Hl.value?(Ca.value.selectId=s,Fa("lottery-sure")):Fa("lottery-empty")})(e)},[m("span",ys,[m("i",{class:y(`icon-${e.id}-${Ca.value.selectId===e.id?1:0}`)},null,2),Ca.value.lotteryFinish&&Ca.value.selectId===e.id?(v(),I("i",{key:0,class:y("icon-lottery-"+(Ca.value.prizeId>0?"success":"fail"))},null,2)):k("",!0)]),m("span",{class:y(["item-text",{disabled:e.disabled}])},[z(q(e.name)+" ",1),!e.disabled&&_a.value.collectCountList[e.id]>0?(v(),I("i",ks,"x"+q(_a.value.collectCountList[e.id]),1)):k("",!0)],2)],8,gs)))),128))],2)))),128))]),m("div",ws,[Ca.value.tipsId?(v(),I("div",fs,[xs,m("div",hs,[Zl.value&&[1,2].includes(Ca.value.tipsId)?(v(),I("span",{key:0,class:y(`icon-lottery-question-${Ca.value.tipsId+3}`)},null,2)):(v(),I("span",{key:1,class:y(`icon-lottery-question-${Ca.value.tipsId}`)},null,2))])])):k("",!0)])],4),m("div",{class:y("bg-lottery-bottom"+(Zl.value?"-2":"")),style:x("scale:"+(ia.value-.1))},null,6),Zl.value?(v(),I(w,{key:0},[m("div",{class:"icon-spring-1",style:x(`scale:${ia.value}`)},null,4),qs],64)):k("",!0),m("div",Ls,[m("span",{class:"btn-back",onClick:s[33]||(s[33]=g((e=>ua.value=!1),["stop"]))}),m("span",{class:"btn-task2",onClick:s[34]||(s[34]=g((e=>Fa("task")),["stop"]))}),m("span",{class:"btn-record2",onClick:s[35]||(s[35]=g((e=>Fa("record")),["stop"]))})]),m("div",Cs," 剩余检验次数："+q(_a.value.canLotteryTodayFinally),1)])])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>[da.value.includes("lottery-")?(v(),I("div",$s,[m("div",{class:y(`bg-${da.value}`),style:x(`transform:scale(${la.value})`)},["lottery-sure"===da.value?(v(),I("div",bs,[m("span",{class:y(`icon-${Ca.value.selectId}-0`)},null,2)])):(v(),I(w,{key:1},["lottery-prize"===da.value?(v(),I("div",zs,[[1,2].includes(Ca.value.prizeId)?(v(),I(w,{key:0},[m("img",{src:`${h(Fl)}/w/${Ca.value.prizeImgId}`},null,8,Rs),Qs],64)):k("",!0)])):k("",!0),"lottery-prize-youku"===da.value?(v(),I(w,{key:1},[m("div",{class:"prize-youku-wrap",onClick:s[37]||(s[37]=e=>Oa(Ca.value.code[1]))},[m("i",null,q(Ca.value.code[1]),1)]),m("div",{class:"prize-youku-tips",onClick:s[38]||(s[38]=e=>Va("youku"))})],64)):k("",!0),4===Ca.value.prizeId?(v(),I(w,{key:2},[m("div",{class:y(["prize-4-img",`icon-red-${Ca.value.subId}`])},null,2),m("div",{class:"prize-4-code",onClick:s[39]||(s[39]=e=>Oa(Ca.value.code))},q(Ca.value.code),1)],64)):k("",!0),[6].includes(Ca.value.prizeId)?(v(),I("div",Ts,[(v(!0),I(w,null,f(h(Qa).faceList,(e=>(v(),I("span",{class:"img-item",key:`face-${e}`},[m("img",{src:`${h(Fl)}/w/${e}`,class:y({active:Ca.value.prizeImgId===e})},null,10,_s)])))),128)),Ss])):k("",!0),[7].includes(Ca.value.prizeId)?(v(),I("div",Xs,[m("img",{src:`${h(Fl)}/w/${Ca.value.prizeImgId}`},null,8,Ys)])):k("",!0)],64)),m("span",{class:"dialogs-close",onClick:s[40]||(s[40]=g((e=>Fa("")),["stop"]))}),m("span",{class:y(["dialogs-submit",{left:[5,8,9,10,11,12,13].includes(Ca.value.prizeId)}]),onClick:s[41]||(s[41]=g((e=>Ya()),["stop"]))},null,2),[5,8,9,10,11,12,13].includes(Ca.value.prizeId)?(v(),I("span",{key:2,class:"dialogs-right",onClick:s[42]||(s[42]=g((e=>Ya("address")),["stop"]))})):k("",!0)],6)])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>["rule"===da.value?(v(),I("div",Ns,[m("div",{class:y("bg-rule"),style:x(`transform:scale(${la.value})`)},[m("span",{class:"dialogs-submit",onClick:s[43]||(s[43]=g((e=>Fa("")),["stop"]))})],4)])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>["task"===da.value?(v(),I("div",Es,[m("div",Gs,[m("span",{class:y(["task-num",`num-c-${_a.value.canLotteryToday}`])},null,2),m("div",js,[m("div",Ks,[m("span",{class:"task-text",onClick:s[44]||(s[44]=g((e=>Pa(1)),["stop"]))},[m("i",{class:y("icon-task-get-"+(_a.value.shareToday>=1?"2":"1"))},null,2)])]),m("div",Ms,[m("span",{class:"task-text",onClick:s[45]||(s[45]=g((e=>Pa(2)),["stop"]))},[m("i",{class:y("icon-task-get-"+(_a.value.loginToday>=1?"2":"1"))},null,2)])]),m("div",Bs,[m("span",Fs,[_a.value.mapNpcToday.length<3?(v(),I(w,{key:0},[z(q(_a.value.mapNpcToday.length)+" / 3 ",1)],64)):(v(),I("i",Us))])]),m("div",Ps,[m("span",Ds,[_a.value.entryMapListToday.length<2?(v(),I(w,{key:0},[z(q(_a.value.entryMapListToday.length)+" / 2 ",1)],64)):(v(),I("i",Os))])]),m("div",Vs,[m("span",{class:"task-text",onClick:s[46]||(s[46]=g((e=>Pa(5)),["stop"]))},[m("i",{class:y("icon-task-get-"+(_a.value.playEggToday>=1?"2":"1"))},null,2)])])]),m("span",{class:"dialogs-close",onClick:s[47]||(s[47]=g((e=>Fa("")),["stop"]))})])])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>{var e;return["record"===da.value?(v(),I("div",Ws,[m("div",{class:"bg-record",style:x(`transform:scale(${la.value})`)},[(null==(e=_a.value.prizeList)?void 0:e.length)?(v(),I(w,{key:0},[m("div",Js,[m("div",As,[$a.value.prizeImgId?(v(),I("img",{key:0,src:`${h(Fl)}/w/${$a.value.prizeImgId}`},null,8,Hs)):k("",!0),[5,8,9,10,11,12,13].includes($a.value.prizeId)?(v(),I("img",{key:1,src:`${h(Fl)}/icon/prize-${$a.value.prizeId}.jpg`},null,8,Zs)):k("",!0),4===$a.value.prizeId?(v(),I("img",{key:2,src:`${h(Fl)}/icon/red-${$a.value.subId}.png`},null,8,el)):k("",!0),3===$a.value.prizeId?(v(),I("img",{key:3,src:`${h(Fl)}/w/youku.png`,onClick:s[48]||(s[48]=e=>Va("youku"))},null,8,sl)):k("",!0)]),$a.value.prizeImgId?(v(),I("span",{key:0,class:"btn-look",onClick:s[49]||(s[49]=g((e=>Ua($a.value,"look")),["stop"]))})):k("",!0),[5,8,9,10,11,12,13].includes($a.value.prizeId)?(v(),I("span",{key:1,class:"btn-address",onClick:s[50]||(s[50]=g((e=>Ua($a.value,"address")),["stop"]))})):k("",!0),3===$a.value.prizeId?(v(),I("span",{key:2,class:"code-list",onClick:s[51]||(s[51]=e=>Oa($a.value.code[1]))},[m("i",null," 点击复制兑换码："+q($a.value.code[1]),1)])):k("",!0),4===$a.value.prizeId?(v(),I(w,{key:3},[m("span",{class:"btn-red",onClick:s[52]||(s[52]=e=>Va("red"))}),m("span",{class:"code-list",onClick:s[53]||(s[53]=e=>Oa($a.value.code))},[m("i",null," 点击复制兑换码："+q($a.value.code),1)])],64)):k("",!0)]),m("div",ll,[(v(!0),I(w,null,f(_a.value.prizeList,((e,s)=>(v(),I("span",{key:`record-item-${s}`,class:"bg-record-item",onClick:g((s=>Ua(e)),["stop"])},[e.prizeImgId?(v(),I("img",{key:0,src:`${h(Fl)}/w/${e.prizeImgId}`},null,8,tl)):k("",!0),3===e.prizeId?(v(),I("img",{key:1,src:`${h(Fl)}/icon/youku.png`},null,8,il)):k("",!0),[5,8,9,10,11,12,13].includes(e.prizeId)?(v(),I("img",{key:2,src:`${h(Fl)}/icon/prize-${e.prizeId}.jpg`},null,8,nl)):k("",!0),4===e.prizeId?(v(),I("img",{key:3,src:`${h(Fl)}/icon/red-${e.subId}.png`},null,8,dl)):k("",!0),e.isFuGoods?(v(),I("i",ol)):k("",!0)],8,al)))),128))])],64)):(v(),I("div",ul,"暂无数据")),m("span",{class:"dialogs-close",onClick:s[54]||(s[54]=g((e=>{Fa(""),$a.value={}}),["stop"]))})],4),"red"===$a.value.dialoge?(v(),I("div",cl,[m("div",{class:"bg-tips-red center-x-y",onClick:s[55]||(s[55]=g((e=>$a.value.dialoge=""),["stop"]))})])):k("",!0)])):k("",!0)]})),_:1}),$(R,{name:"fade"},{default:b((()=>["date"===da.value?(v(),I("div",{key:0,class:"dialogs-date",onClick:s[56]||(s[56]=g((e=>Fa("")),["stop"]))},[m("div",{class:"bg-date-1",style:x(`transform:scale(${h(i)(1100)})`)},[(v(),I(w,null,f([["01-18","01-19","01-20","01-21","01-22","01-23","01-24"],["01-25","01-26","01-27","01-28","01-29","01-30","01-31"],["02-01","02-02","02-03","02-04","02-05","02-06","02-07  "]],((e,s)=>m("div",{class:y(["active-row",`row-${s+1}`])},[(v(!0),I(w,null,f(e,(e=>(v(),I("span",{key:`row-${s}-${e}`,class:y(["icon-date-active",{active:_a.value.dateList.includes(e)}])},[_a.value.dateList.includes(e)?(v(),I("i",rl)):k("",!0)],2)))),128))],2))),64)),pl],4)])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>[da.value.includes("tips-map")?(v(),I("div",{key:0,class:"dialogs-tips-map",onClick:s[57]||(s[57]=g((e=>Fa("")),["stop"]))},[m("div",{class:y(`bg-${da.value}`),style:x(`scale:${aa.value}`)},null,6)])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>[da.value.includes("collect-")?(v(),I("div",{key:0,class:"dialogs-collect",onClick:s[58]||(s[58]=g((e=>ja("collect")),["stop"]))},[m("div",{class:y(`bg-${da.value}`),style:x(`scale:${aa.value}`)},null,6)])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>["tips-pay"===da.value?(v(),I("div",vl,[m("div",Il,[m("span",{class:"dialogs-close2",onClick:s[59]||(s[59]=g((e=>Fa("")),["stop"]))}),m("span",{class:"dialogs-submit2",onClick:s[60]||(s[60]=g((e=>(async()=>{if(!ea.value){ea.value=!0;try{if(Z("支付中...",Al?90:0),Jl){const e=await S({openid:Jl,totalAmount:ha.value,description:"喜羊羊与灰太狼-古古怪界有福袋",activityKey:"20260123",periodNum:1,unionid:se}),{code:s,data:l,msg:a}=e;0===s?(Fa(""),Ea(l),X(l.orderNo)):et(a)}else et(`账号异常,请联系客服${se}`)}catch(e){et(e)}finally{ea.value=!1,ee()}}})()),["stop"]))})])])):k("",!0)])),_:1}),$(R,{name:"fade"},{default:b((()=>[["tips-pay-max","tips-pay-close","tips-pay-success"].includes(da.value)?(v(),I("div",ml,[m("div",{class:y(`bg-${da.value}`),onClick:s[61]||(s[61]=g((e=>Fa("")),["stop"])),style:"scale:1.3"},null,2)])):k("",!0)])),_:1}),qa.value?(v(),I("div",gl,[m("div",yl,[L(m("input",{class:"address-name","onUpdate:modelValue":s[62]||(s[62]=e=>La.value.name=e),autocomplete:"off",name:"name",placeholder:"请在此处输入收件人"},null,512),[[Q,La.value.name]]),L(m("input",{class:"address-phone","onUpdate:modelValue":s[63]||(s[63]=e=>La.value.phone=e),autocomplete:"off",name:"phone",placeholder:"请在此处输入11位手机号码"},null,512),[[Q,La.value.phone]]),L(m("input",{class:"address-address","onUpdate:modelValue":s[64]||(s[64]=e=>La.value.address=e),autocomplete:"off",name:"address",placeholder:"请填写详细地址"},null,512),[[Q,La.value.address]]),m("span",{class:"btn-address-ok",onClick:s[65]||(s[65]=g((e=>(()=>{let{phone:e,name:s,address:l}=La.value;if(s&&e&&l)if(11==e.length){if(ea.value)return;if(ea.value=!0,Z("提交中...",Al?90:0),$a.value._id){let e={...$a.value,...La.value,type:"pay-address"};Wa(e),setTimeout((()=>{et("提交成功"),qa.value=!1,ea.value=!1,ee()}),1e3)}else U({activityKey:D,periodNum:O,ownerUnionid:se,address:l,name:s,phone:e,extra:{}}).then((()=>{et("提交成功"),qa.value=!1,Za.value=!0})).finally((()=>{ea.value=!1,ee()}))}else et("请填写11位手机号码");else et("请输入正确的信息")})()),["stop"]))}),m("span",{class:"dialogs-close",onClick:s[66]||(s[66]=g((e=>qa.value=!1),["stop"]))})])])):k("",!0),oa.value?(v(),I("div",{key:1,class:"dialogs-share",onClick:s[67]||(s[67]=g((e=>oa.value=!1),["stop"]))},kl)):k("",!0),fa.value?(v(),I("div",wl,[z(" 客户端时间异常"),fl,z(" 您的账号已被记录数据异常行为，请联系官方处理"),xl,z(" "+q(h(se)),1)])):k("",!0)],512),[[C,da.value||oa.value||ua.value||fa.value||qa.value]]),Hl.value?(v(),I("div",hl,[ql,m("div",null,[z("付费红包(狼堡): 库存"+q(at.value.red2.total)+" 、已发 ",1),m("i",Ll,q(at.value.red2.invalid),1),z(" 、剩余 "),m("i",Cl,q(at.value.red2.remain),1)]),m("div",null,[z("付费红包(羊村): 库存"+q(at.value.red3.total)+" 、已发 ",1),m("i",$l,q(at.value.red3.invalid),1),z(" 、剩余 "),m("i",bl,q(at.value.red3.remain),1)]),m("div",null,[z("毛绒吧唧: 库存"+q(at.value.prize5.total)+" 、已发 ",1),m("i",zl,q(at.value.prize5.invalid),1),z(" 、剩余 "),m("i",Rl,q(at.value.prize5.remain),1)]),m("div",null,[z("金属徽章: 库存"+q(at.value.prize10.total)+" 、已发 ",1),m("i",Ql,q(at.value.prize10.invalid),1),z(" 、剩余 "),m("i",Tl,q(at.value.prize10.remain),1)]),m("div",null,[z("新春红包实物周边: 库存"+q(at.value.prize11.total)+" 、已发 ",1),m("i",_l,q(at.value.prize11.invalid),1),z(" 、剩余 "),m("i",Sl,q(at.value.prize11.remain),1)]),Xl,m("div",null,[z("免费红包: 库存"+q(at.value.red1.total)+" 、已发 ",1),m("i",Yl,q(at.value.red1.invalid),1),z(" 、剩余 "),m("i",Nl,q(at.value.red1.remain),1)]),m("div",null,[z("台历: 库存"+q(at.value.prize8.total)+" 、已发 ",1),m("i",El,q(at.value.prize8.invalid),1),z(" 、剩余 "),m("i",Gl,q(at.value.prize8.remain),1)]),m("div",null,[z("公仔: 库存"+q(at.value.prize9.total)+" 、已发 ",1),m("i",jl,q(at.value.prize9.invalid),1),z(" 、剩余 "),m("i",Kl,q(at.value.prize9.remain),1)])])):k("",!0)],2),Ra.audioList.length?L((v(),I("div",Ml,[(v(!0),I(w,null,f(Ra.audioList,(e=>(v(),I("audio",{id:"audio-item-"+e.name,key:"audio-item-"+e.name,src:e.src,loop:e.loop??!1},null,8,Bl)))),128))],512)),[[C,!1]]):k("",!0)],64)}}}),[["__scopeId","data-v-4bffe0bd"]]);export{Fl as default};
