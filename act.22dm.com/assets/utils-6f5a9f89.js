import{i as a}from"./index-cfeae59d.js";const l=(a=[])=>{let l=0;return a.map((a=>{var t;"login"===(null==(t=null==a?void 0:a.extra)?void 0:t.type)&&l++})),l},t=(a=[])=>{let t=3*l(a),e=((a=[])=>{let l=0;return a.map((a=>{var t;"map"===(null==(t=null==a?void 0:a.extra)?void 0:t.type)&&l++})),l})(a),r=0;return a.map((a=>{var l;r+=(null==(l=null==a?void 0:a.extra)?void 0:l.getMap)??0})),t=t-e+r,t>0?t:0},e=(a=[])=>{let l=0;return a.map((a=>{var t,e;l+=(null==(t=null==a?void 0:a.extra)?void 0:t.getScore)??0,"prize"===(null==(e=null==a?void 0:a.extra)?void 0:e.type)&&(l-=100)})),l>0?l:0},r=(a=[],t=[])=>{let e=6*l(a);return a.map((a=>{var l;e+=(null==(l=null==a?void 0:a.extra)?void 0:l.getGame)??0})),a.map((a=>{var l;"game-play"===(null==(l=null==a?void 0:a.extra)?void 0:l.type)&&(e-=1)})),e>0?e:0},d=(a=[],l=[])=>{try{const t=l.map((a=>({...a,count:0})));return a.map((a=>{var l,e,r,d;if("card"===(null==(l=null==a?void 0:a.extra)?void 0:l.addType)){const l=(null==(e=null==a?void 0:a.extra)?void 0:e.getId)??0,r=t.findIndex((a=>a.id===l));r>=0&&t[r].count++}else if("card-send"===(null==(r=null==a?void 0:a.extra)?void 0:r.type)){const l=(null==(d=null==a?void 0:a.extra)?void 0:d.cardId)??0,e=t.findIndex((a=>a.id===l));e>=0&&t[e].count--}})),t}catch(t){return[]}},n=(l=[])=>{let t=0,e=0,r=0,d=0,n=0;return l.map((l=>{const{extra:n={},addTime:o}=l,{type:i=""}=n;a(o)&&("map"===i?e++:"task-link"===i?r++:"task-share"===i?d++:"login"===i&&(t+=10))})),r>=2&&(t+=20),d>=2&&(t+=25),e>=3&&(t+=20),e>=6&&(t+=25),n=Math.floor(t/20),{todayTaskScore:t,todayMap:e,todayLink:r,todayShare:d,todayScordStatus:n}},o=(l=[],t)=>{let e=!1;return l.map((l=>{var r,d;a(l.addTime)&&"task-prize"===(null==(r=null==l?void 0:l.extra)?void 0:r.type)&&(null==(d=null==l?void 0:l.extra)?void 0:d.getId)===t&&(e=!0)})),e};export{r as a,t as b,d as c,n as d,e as g,o as h};
